{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Krux \u00b6 Krux is an open-source DIY hardware signer for Bitcoin that can sign for multisignature and single-key wallets. It is a low-cost airgapped device built from off-the-shelf parts that communicates with wallet software via QR codes and wipes its memory after every session. You can even attach a thermal printer and print out the QR codes that it generates. To learn more about how Krux works, check out Getting Started .","title":"Home"},{"location":"#krux","text":"Krux is an open-source DIY hardware signer for Bitcoin that can sign for multisignature and single-key wallets. It is a low-cost airgapped device built from off-the-shelf parts that communicates with wallet software via QR codes and wipes its memory after every session. You can even attach a thermal printer and print out the QR codes that it generates. To learn more about how Krux works, check out Getting Started .","title":"Krux"},{"location":"faq/","text":"Why isn't Krux scanning my QR code? \u00b6 The level of detail that you see is what Krux sees. If the QR code shown on the device's screen is blurry, the camera lens of the device may be out of focus. It can be adjusted by rotating it (with your fingertip) clockwise or counter-clockwise to achieve a clearer result. If you have adjusted the lens already, the device may be too far away or too close to the code to read it. Start by holding the device as close to the QR code as possible and pulling away slowly until all or most of the QR code is viewable within the screen. If the code on the screen looks crisp, Krux should read it quickly and give you immediate feedback. If you are in a dark setting, you can hold down the front button of the device to turn on its LED light to potentially increase visibility. Why am I getting an error when I try to scan a QR code? \u00b6 If Krux is recognizing that it sees a QR code but is displaying an error message after reading it, the likely reason is that the QR code is not in a format that Krux understands. For mnemonics, Krux recognizes: BIP-39 Plaintext (Used by Krux and https://iancoleman.io/bip39/ ) SeedSigner Seed QR Format UR Type crypto-bip39 For loading wallets, Krux recognizes: JSON with at least a descriptor key containing an output descriptor string Key-value INI files with at least Format , Policy , and Derivation keys UR Type crypto-output For PSBTs, Krux recognizes: Base43, Base58, and Base64-encoded bytes Raw Bytes UR Type crypto-psbt Additionally, Krux recognizes animated QR codes that use either the plaintext pMofN or binary UR encodings.","title":"FAQ"},{"location":"faq/#why-isnt-krux-scanning-my-qr-code","text":"The level of detail that you see is what Krux sees. If the QR code shown on the device's screen is blurry, the camera lens of the device may be out of focus. It can be adjusted by rotating it (with your fingertip) clockwise or counter-clockwise to achieve a clearer result. If you have adjusted the lens already, the device may be too far away or too close to the code to read it. Start by holding the device as close to the QR code as possible and pulling away slowly until all or most of the QR code is viewable within the screen. If the code on the screen looks crisp, Krux should read it quickly and give you immediate feedback. If you are in a dark setting, you can hold down the front button of the device to turn on its LED light to potentially increase visibility.","title":"Why isn't Krux scanning my QR code?"},{"location":"faq/#why-am-i-getting-an-error-when-i-try-to-scan-a-qr-code","text":"If Krux is recognizing that it sees a QR code but is displaying an error message after reading it, the likely reason is that the QR code is not in a format that Krux understands. For mnemonics, Krux recognizes: BIP-39 Plaintext (Used by Krux and https://iancoleman.io/bip39/ ) SeedSigner Seed QR Format UR Type crypto-bip39 For loading wallets, Krux recognizes: JSON with at least a descriptor key containing an output descriptor string Key-value INI files with at least Format , Policy , and Derivation keys UR Type crypto-output For PSBTs, Krux recognizes: Base43, Base58, and Base64-encoded bytes Raw Bytes UR Type crypto-psbt Additionally, Krux recognizes animated QR codes that use either the plaintext pMofN or binary UR encodings.","title":"Why am I getting an error when I try to scan a QR code?"},{"location":"parts/","text":"Part List \u00b6 M5StickV \u00b6 This is the main hardware device that you will need. The M5StickV is available from many distributors, including: M5Stack Adafruit Mouser Digi-Key Lee's Electronic Cytron Pimoroni OKDO You can expect to pay around $50 for one depending on which distributor you choose. USB-C Charge Cable \u00b6 This will be included with the M5StickV that you purchase from one of the distributors above. It will be necessary to power and charge the device and to change its firmware. (Optional) MicroSD Card \u00b6 Not all microSD cards will work with the M5StickV. Make sure to use one that has been tested and shown to work with the device already. The size of the SD card isn't important; anything over a few megabytes will be plenty. (Optional) Thermal Printer \u00b6 Krux has the ability to print all QR codes it generates, including mnemonic, xpub, wallet backup, and signed PSBT, via a locally-connected thermal printer from Adafruit over its serial port. Any of their thermal printers will work, but the starter pack would be the easiest way to get started since it includes all the parts (except the one below) you will need to begin printing. (Optional) Conversion Cable for Thermal Printer \u00b6 To connect the printer to the M5StickV, you will need a conversion cable with a 4-pin female Grove connector on one end (to connect to the M5StickV) and 4-pin male jumpers on the other end (to connect to the printer). You can find them at one of the distributors above or from Amazon.","title":"Part List"},{"location":"parts/#part-list","text":"","title":"Part List"},{"location":"parts/#m5stickv","text":"This is the main hardware device that you will need. The M5StickV is available from many distributors, including: M5Stack Adafruit Mouser Digi-Key Lee's Electronic Cytron Pimoroni OKDO You can expect to pay around $50 for one depending on which distributor you choose.","title":"M5StickV"},{"location":"parts/#usb-c-charge-cable","text":"This will be included with the M5StickV that you purchase from one of the distributors above. It will be necessary to power and charge the device and to change its firmware.","title":"USB-C Charge Cable"},{"location":"parts/#optional-microsd-card","text":"Not all microSD cards will work with the M5StickV. Make sure to use one that has been tested and shown to work with the device already. The size of the SD card isn't important; anything over a few megabytes will be plenty.","title":"(Optional) MicroSD Card"},{"location":"parts/#optional-thermal-printer","text":"Krux has the ability to print all QR codes it generates, including mnemonic, xpub, wallet backup, and signed PSBT, via a locally-connected thermal printer from Adafruit over its serial port. Any of their thermal printers will work, but the starter pack would be the easiest way to get started since it includes all the parts (except the one below) you will need to begin printing.","title":"(Optional) Thermal Printer"},{"location":"parts/#optional-conversion-cable-for-thermal-printer","text":"To connect the printer to the M5StickV, you will need a conversion cable with a 4-pin female Grove connector on one end (to connect to the M5StickV) and 4-pin male jumpers on the other end (to connect to the printer). You can find them at one of the distributors above or from Amazon.","title":"(Optional) Conversion Cable for Thermal Printer"},{"location":"support/","text":"Support the Project \u00b6 Ways you can help \u00b6 Development \u00b6 Audit the code, file an issue, make a pull request, or do all three. :) Documentation \u00b6 I'd like to see Krux help as many people as possible, and in order to do that it needs good documentation. If you see a better way to word something, please make a PR, no matter how small. Translation \u00b6 Krux has support for different languages. If it's missing a language or has an awkward translation, please file an issue or make a PR! Social \u00b6 I'm an engineer, not a marketer. If you like Krux, help spread the word! Thank you!","title":"Support the Project"},{"location":"support/#support-the-project","text":"","title":"Support the Project"},{"location":"support/#ways-you-can-help","text":"","title":"Ways you can help"},{"location":"support/#development","text":"Audit the code, file an issue, make a pull request, or do all three. :)","title":"Development"},{"location":"support/#documentation","text":"I'd like to see Krux help as many people as possible, and in order to do that it needs good documentation. If you see a better way to word something, please make a PR, no matter how small.","title":"Documentation"},{"location":"support/#translation","text":"Krux has support for different languages. If it's missing a language or has an awkward translation, please file an issue or make a PR!","title":"Translation"},{"location":"support/#social","text":"I'm an engineer, not a marketer. If you like Krux, help spread the word! Thank you!","title":"Social"},{"location":"getting-started/","text":"Krux is an airgapped hardware signer built on top of the M5StickV , an open-source hardware device from M5Stack . All operations in Krux are done via QR code. You can load your BIP-39 mnemonic, import a wallet descriptor, and sign transactions without having to plug the device into your computer (except to initially flash the firmware). It reads QR codes in with its camera and outputs QR codes to its screen or to paper via an optional thermal printer attachment . Krux does not come with its own desktop wallet software. Instead, you can use Krux with third-party wallet coordinators to create and manage wallets and send transactions from your computer or mobile device while keeping your keys offline. Krux was built to be vendor agnostic and works with many popular wallet coordinators, including: Specter Desktop Sparrow Wallet BlueWallet","title":"About"},{"location":"getting-started/generating-a-mnemonic/","text":"Krux has support for creating 12- and 24-word mnemonics. Because true entropy is difficult to produce, especially with an embedded device like the M5StickV, Krux outsources entropy generation to the user. Dice Rolls \u00b6 At the start screen, once you select New Mnemonic , you will be taken to a second menu where you can choose to create a mnemonic via rolls of a D6 (standard six-sided die) or D20 (20-sided die). The number of dice rolls you choose determines the amount of words in the final mnemonic. Via D6 \u00b6 The entropy in a single roll of a D6 is 2.585 bits ( log 2 (6) ); therefore 50 rolls will result in 128 bits of entropy, enough to generate a 12-word mnemonic. Doubling the amount of rolls doubles the entropy to 256 bits, resulting in a 24-word mnemonic. Via D20 \u00b6 Since a D20 has more possible outcomes, the entropy is increased per roll to 4.322 bits ( log 2 (20) ). This means that only 30 rolls are necessary to create a 12-word mnemonic and 60 rolls for a 24-word mnemonic. How it works \u00b6 Krux keeps track of every roll you enter and displays the cumulative string of outcomes after each roll. When you have entered your final roll, Krux will hash this string using SHA256 and output the resulting hash to the screen so that you can verify it for yourself. Krux then takes this hash, runs unhexlify on it to encode it as bytes, and deterministically converts it into a mnemonic according to the BIP-39 Reference Implementation . Note: For 12-word mnemonics, only the first half of the SHA256 hash is used (128 bits), while 24-word mnemonics use the full hash (256 bits). Alternatives \u00b6 See here for a good method to generate a mnemonic manually, or visit Ian Coleman's BIP-39 Tool offline or on an airgapped device to generate one automatically. It's worth noting that Ian's tool is able to take a mnemonic and generate a QR code that Krux can read in via the QR input method mentioned on the next page.","title":"Generating a Mnemonic"},{"location":"getting-started/generating-a-mnemonic/#dice-rolls","text":"At the start screen, once you select New Mnemonic , you will be taken to a second menu where you can choose to create a mnemonic via rolls of a D6 (standard six-sided die) or D20 (20-sided die). The number of dice rolls you choose determines the amount of words in the final mnemonic.","title":"Dice Rolls"},{"location":"getting-started/generating-a-mnemonic/#via-d6","text":"The entropy in a single roll of a D6 is 2.585 bits ( log 2 (6) ); therefore 50 rolls will result in 128 bits of entropy, enough to generate a 12-word mnemonic. Doubling the amount of rolls doubles the entropy to 256 bits, resulting in a 24-word mnemonic.","title":"Via D6"},{"location":"getting-started/generating-a-mnemonic/#via-d20","text":"Since a D20 has more possible outcomes, the entropy is increased per roll to 4.322 bits ( log 2 (20) ). This means that only 30 rolls are necessary to create a 12-word mnemonic and 60 rolls for a 24-word mnemonic.","title":"Via D20"},{"location":"getting-started/generating-a-mnemonic/#how-it-works","text":"Krux keeps track of every roll you enter and displays the cumulative string of outcomes after each roll. When you have entered your final roll, Krux will hash this string using SHA256 and output the resulting hash to the screen so that you can verify it for yourself. Krux then takes this hash, runs unhexlify on it to encode it as bytes, and deterministically converts it into a mnemonic according to the BIP-39 Reference Implementation . Note: For 12-word mnemonics, only the first half of the SHA256 hash is used (128 bits), while 24-word mnemonics use the full hash (256 bits).","title":"How it works"},{"location":"getting-started/generating-a-mnemonic/#alternatives","text":"See here for a good method to generate a mnemonic manually, or visit Ian Coleman's BIP-39 Tool offline or on an airgapped device to generate one automatically. It's worth noting that Ian's tool is able to take a mnemonic and generate a QR code that Krux can read in via the QR input method mentioned on the next page.","title":"Alternatives"},{"location":"getting-started/installing-from-source/","text":"Requirements \u00b6 Hardware \u00b6 You will need the M5StickV, a USB-C cable, and a computer with a USB port to continue. Consult the part list for more information. If you wish to perform airgapped firmware updates, want persistent settings, or wish to use Krux in a different language, you will also need a supported microSD card . Software \u00b6 You will need a computer with git and vagrant installed. Fetch the code \u00b6 In a terminal, run the following: git clone --recurse-submodules https://github.com/selfcustody/krux This will pull down the Krux source code as well as the code for all its dependencies and put them inside a new krux folder. Note: When you wish to pull down updates to this repo, you can run the following inside the krux folder: git pull origin main && git submodule update --init --recursive Spin up a virtual machine \u00b6 After you have installed Vagrant, run the following inside the krux folder to spin up a new VM: vagrant up Build the firmware \u00b6 Prerequisite for upgrading via microSD \u00b6 If you wish to perform airgapped upgrades via microSD card, you will need to have a private and public key pair to sign your builds and verify the signatures. You can use an existing Krux installation and mnemonic to sign your builds with, or you can generate a keypair and sign from the openssl CLI . Commands have been added to the krux shell script to make this easier. In either case, you will need to update the SIGNER_PUBKEY field in src/krux/metadata.py to store your public key so that Krux can verify future builds before installing. To generate a keypair, run: vagrant ssh -c 'cd /vagrant; ./krux generate-keypair' vagrant ssh -c 'cd /vagrant; ./krux pem-to-pubkey pubkey.pem' The first command will create privkey.pem and pubkey.pem files you can use with openssl, and the second command will output your public key in the form expected by Krux. Once you've updated the SIGNER_PUBKEY with this value, you can proceed with the regular build process. Build \u00b6 Run the following: vagrant ssh -c 'cd /vagrant; ./krux build maixpy_m5stickv' This will take around an hour or so to complete the first time. Subsequent builds should take only a few minutes. If all goes well, you should see a new build folder containing firmware.bin and kboot.kfpkg files when the build completes. Flash the firmware onto the M5StickV \u00b6 Connect the M5StickV to your computer via USB, power it on (left-side button), and run the following: vagrant ssh -c 'cd /vagrant; ./krux flash' Note: Running vagrant reload prior to flashing may be necessary in order for the newly-inserted USB device to be detected and passed through to the VM on startup. If this command fails, even after reloading, with the error Failed to find device via USB. Is it connected and powered on? , make sure that your user has been added to the vboxusers group. On Mac or Linux, run the following command: sudo usermod -a -G vboxusers yourusername If the flashing process fails midway through, check the connection, restart the device, and try the command again. When the flashing process completes, you should see... If after 30 seconds you still see a black screen, try power cycling the device by holding down the power button for six seconds. Congrats, you're now running Krux! Multilingual support \u00b6 Prefer a different language? Krux has support for multiple languages, including: de-DE (German) es-MX (Spanish) fr-FR (French) vi-VN (Vietnamese) Are we missing one? Make a PR! To use a translation, first copy the i18n/translations folder to a translations folder at the root of a FAT-32 formatted microSD card, then insert the card into your M5StickV, and reboot the device. Once at the start screen, go to Settings , followed by Locale , and select the locale you wish to use. Your preference will be automatically saved to a settings.json file at the root of your microSD card. Upgrade via microSD card \u00b6 Once you've installed the initial firmware on your device via USB, you can either continue updating the device by flashing or you can perform upgrades via microSD card to keep the device airgapped. After you've built the firmware, you can sign it using one of the following methods. Method 1: Signing from Krux \u00b6 First, calculate the SHA256 hash of the new firmware by running: vagrant ssh -c 'cd /vagrant; ./krux sha256 build/firmware.bin' Copy this hex string and turn it into a QR code using whichever QR code generator you'd like. In Krux, enter the mnemonic of your private key that will be used for signing, and go to Sign > Message . Scan the QR code you generated, and you will be asked if you wish to sign the hash. Proceed, and you will be presented with a base64-encoded string containing the signature, as text and as a QR code. Take this string and create a signature file by running: vagrant ssh -c 'cd /vagrant; ./krux b64decode \"signature-in-base64\" > build/firmware.bin.sig' This will generate a firmware.bin.sig file containing a signature of the firmware's SHA256 hash. Method 2: Signing from your computer with OpenSSL \u00b6 With the keypair you generated before , you can now run: vagrant ssh -c 'cd /vagrant; ./krux sign build/firmware.bin privkey.pem' This will generate a firmware.bin.sig file containing a signature of the firmware's SHA256 hash. Upgrade via microSD card (continued) \u00b6 To perform an upgrade, simply copy the firmware.bin and firmware.bin.sig files to the root of a FAT-32 formatted microSD card, insert the card into your M5StickV, and reboot the device. If it detects the new firmware file and is able to verify the signature, you will be prompted to install it. Once installation is complete, eject the microSD card and delete the firmware files before reinserting and rebooting.","title":"Installing from source"},{"location":"getting-started/installing-from-source/#requirements","text":"","title":"Requirements"},{"location":"getting-started/installing-from-source/#hardware","text":"You will need the M5StickV, a USB-C cable, and a computer with a USB port to continue. Consult the part list for more information. If you wish to perform airgapped firmware updates, want persistent settings, or wish to use Krux in a different language, you will also need a supported microSD card .","title":"Hardware"},{"location":"getting-started/installing-from-source/#software","text":"You will need a computer with git and vagrant installed.","title":"Software"},{"location":"getting-started/installing-from-source/#fetch-the-code","text":"In a terminal, run the following: git clone --recurse-submodules https://github.com/selfcustody/krux This will pull down the Krux source code as well as the code for all its dependencies and put them inside a new krux folder. Note: When you wish to pull down updates to this repo, you can run the following inside the krux folder: git pull origin main && git submodule update --init --recursive","title":"Fetch the code"},{"location":"getting-started/installing-from-source/#spin-up-a-virtual-machine","text":"After you have installed Vagrant, run the following inside the krux folder to spin up a new VM: vagrant up","title":"Spin up a virtual machine"},{"location":"getting-started/installing-from-source/#build-the-firmware","text":"","title":"Build the firmware"},{"location":"getting-started/installing-from-source/#prerequisite-for-upgrading-via-microsd","text":"If you wish to perform airgapped upgrades via microSD card, you will need to have a private and public key pair to sign your builds and verify the signatures. You can use an existing Krux installation and mnemonic to sign your builds with, or you can generate a keypair and sign from the openssl CLI . Commands have been added to the krux shell script to make this easier. In either case, you will need to update the SIGNER_PUBKEY field in src/krux/metadata.py to store your public key so that Krux can verify future builds before installing. To generate a keypair, run: vagrant ssh -c 'cd /vagrant; ./krux generate-keypair' vagrant ssh -c 'cd /vagrant; ./krux pem-to-pubkey pubkey.pem' The first command will create privkey.pem and pubkey.pem files you can use with openssl, and the second command will output your public key in the form expected by Krux. Once you've updated the SIGNER_PUBKEY with this value, you can proceed with the regular build process.","title":"Prerequisite for upgrading via microSD"},{"location":"getting-started/installing-from-source/#build","text":"Run the following: vagrant ssh -c 'cd /vagrant; ./krux build maixpy_m5stickv' This will take around an hour or so to complete the first time. Subsequent builds should take only a few minutes. If all goes well, you should see a new build folder containing firmware.bin and kboot.kfpkg files when the build completes.","title":"Build"},{"location":"getting-started/installing-from-source/#flash-the-firmware-onto-the-m5stickv","text":"Connect the M5StickV to your computer via USB, power it on (left-side button), and run the following: vagrant ssh -c 'cd /vagrant; ./krux flash' Note: Running vagrant reload prior to flashing may be necessary in order for the newly-inserted USB device to be detected and passed through to the VM on startup. If this command fails, even after reloading, with the error Failed to find device via USB. Is it connected and powered on? , make sure that your user has been added to the vboxusers group. On Mac or Linux, run the following command: sudo usermod -a -G vboxusers yourusername If the flashing process fails midway through, check the connection, restart the device, and try the command again. When the flashing process completes, you should see... If after 30 seconds you still see a black screen, try power cycling the device by holding down the power button for six seconds. Congrats, you're now running Krux!","title":"Flash the firmware onto the M5StickV"},{"location":"getting-started/installing-from-source/#multilingual-support","text":"Prefer a different language? Krux has support for multiple languages, including: de-DE (German) es-MX (Spanish) fr-FR (French) vi-VN (Vietnamese) Are we missing one? Make a PR! To use a translation, first copy the i18n/translations folder to a translations folder at the root of a FAT-32 formatted microSD card, then insert the card into your M5StickV, and reboot the device. Once at the start screen, go to Settings , followed by Locale , and select the locale you wish to use. Your preference will be automatically saved to a settings.json file at the root of your microSD card.","title":"Multilingual support"},{"location":"getting-started/installing-from-source/#upgrade-via-microsd-card","text":"Once you've installed the initial firmware on your device via USB, you can either continue updating the device by flashing or you can perform upgrades via microSD card to keep the device airgapped. After you've built the firmware, you can sign it using one of the following methods.","title":"Upgrade via microSD card"},{"location":"getting-started/installing-from-source/#method-1-signing-from-krux","text":"First, calculate the SHA256 hash of the new firmware by running: vagrant ssh -c 'cd /vagrant; ./krux sha256 build/firmware.bin' Copy this hex string and turn it into a QR code using whichever QR code generator you'd like. In Krux, enter the mnemonic of your private key that will be used for signing, and go to Sign > Message . Scan the QR code you generated, and you will be asked if you wish to sign the hash. Proceed, and you will be presented with a base64-encoded string containing the signature, as text and as a QR code. Take this string and create a signature file by running: vagrant ssh -c 'cd /vagrant; ./krux b64decode \"signature-in-base64\" > build/firmware.bin.sig' This will generate a firmware.bin.sig file containing a signature of the firmware's SHA256 hash.","title":"Method 1: Signing from Krux"},{"location":"getting-started/installing-from-source/#method-2-signing-from-your-computer-with-openssl","text":"With the keypair you generated before , you can now run: vagrant ssh -c 'cd /vagrant; ./krux sign build/firmware.bin privkey.pem' This will generate a firmware.bin.sig file containing a signature of the firmware's SHA256 hash.","title":"Method 2: Signing from your computer with OpenSSL"},{"location":"getting-started/installing-from-source/#upgrade-via-microsd-card-continued","text":"To perform an upgrade, simply copy the firmware.bin and firmware.bin.sig files to the root of a FAT-32 formatted microSD card, insert the card into your M5StickV, and reboot the device. If it detects the new firmware file and is able to verify the signature, you will be prompted to install it. Once installation is complete, eject the microSD card and delete the firmware files before reinserting and rebooting.","title":"Upgrade via microSD card (continued)"},{"location":"getting-started/installing/","text":"This page explains how to install Krux from an official, pre-built release. If you would like to build and install Krux from source, please read the Installing from source guide. Requirements \u00b6 Hardware \u00b6 You will need the M5StickV, a USB-C cable, and a computer with a USB port to continue. Consult the part list for more information. If you wish to perform airgapped firmware updates, want persistent settings, or wish to use Krux in a different language, you will also need a supported microSD card . Download the latest release \u00b6 Head over to the releases page and download the latest signed release. Verify the files \u00b6 Before installing the release, it's a good idea to check that: The SHA256 hash of krux-vX.Y.Z.zip matches the hash in krux-vX.Y.Z.zip.sha256.txt The signature file krux-vX.Y.Z.zip.sig can be verified with the selfcustody.pem public key found in the root of the krux repository. You can either do this manually or with the krux shell script, which contains helper commands for this: ./krux sha256 krux-vX.Y.Z.zip ./krux verify krux-vX.Y.Z.zip selfcustody.pem Fun fact: Each Krux release is signed with Krux! Flash the firmware onto the M5StickV \u00b6 Connect the M5StickV to your computer via USB, power it on (left-side button), and run the following: unzip krux-vX.Y.Z.zip && cd krux-vX.Y.Z ./ktool -B goE -b 1500000 maixpy_m5stickv/kboot.kfpkg If ktool fails to run, you may need to give it executable permissions with chmod +x ./ktool , or in Windows or Mac explicitly allow the tool to run by adding an exception for it. If the flashing process fails midway through, check the connection, restart the device, and try the command again. When the flashing process completes, you should see... If after 30 seconds you still see a black screen, try power cycling the device by holding down the power button for six seconds. Congrats, you're now running Krux! Multilingual support \u00b6 Prefer a different language? Krux has support for multiple languages, including: de-DE (German) es-MX (Spanish) fr-FR (French) vi-VN (Vietnamese) Are we missing one? Make a PR! To use a translation, first copy the i18n/translations folder to a translations folder at the root of a FAT-32 formatted microSD card, then insert the card into your M5StickV, and reboot the device. Once at the start screen, go to Settings , followed by Locale , and select the locale you wish to use. Your preference will be automatically saved to a settings.json file at the root of your microSD card. Upgrade via microSD card \u00b6 Once you've installed the initial firmware on your device via USB, you can either continue updating the device by flashing or you can perform upgrades via microSD card to keep the device airgapped. To perform an upgrade, simply copy the firmware.bin and firmware.bin.sig files to the root of a FAT-32 formatted microSD card, insert the card into your M5StickV, and reboot the device. If it detects the new firmware file and is able to verify the signature, you will be prompted to install it. Once installation is complete, eject the microSD card and delete the firmware files before reinserting and rebooting.","title":"Installing"},{"location":"getting-started/installing/#requirements","text":"","title":"Requirements"},{"location":"getting-started/installing/#hardware","text":"You will need the M5StickV, a USB-C cable, and a computer with a USB port to continue. Consult the part list for more information. If you wish to perform airgapped firmware updates, want persistent settings, or wish to use Krux in a different language, you will also need a supported microSD card .","title":"Hardware"},{"location":"getting-started/installing/#download-the-latest-release","text":"Head over to the releases page and download the latest signed release.","title":"Download the latest release"},{"location":"getting-started/installing/#verify-the-files","text":"Before installing the release, it's a good idea to check that: The SHA256 hash of krux-vX.Y.Z.zip matches the hash in krux-vX.Y.Z.zip.sha256.txt The signature file krux-vX.Y.Z.zip.sig can be verified with the selfcustody.pem public key found in the root of the krux repository. You can either do this manually or with the krux shell script, which contains helper commands for this: ./krux sha256 krux-vX.Y.Z.zip ./krux verify krux-vX.Y.Z.zip selfcustody.pem Fun fact: Each Krux release is signed with Krux!","title":"Verify the files"},{"location":"getting-started/installing/#flash-the-firmware-onto-the-m5stickv","text":"Connect the M5StickV to your computer via USB, power it on (left-side button), and run the following: unzip krux-vX.Y.Z.zip && cd krux-vX.Y.Z ./ktool -B goE -b 1500000 maixpy_m5stickv/kboot.kfpkg If ktool fails to run, you may need to give it executable permissions with chmod +x ./ktool , or in Windows or Mac explicitly allow the tool to run by adding an exception for it. If the flashing process fails midway through, check the connection, restart the device, and try the command again. When the flashing process completes, you should see... If after 30 seconds you still see a black screen, try power cycling the device by holding down the power button for six seconds. Congrats, you're now running Krux!","title":"Flash the firmware onto the M5StickV"},{"location":"getting-started/installing/#multilingual-support","text":"Prefer a different language? Krux has support for multiple languages, including: de-DE (German) es-MX (Spanish) fr-FR (French) vi-VN (Vietnamese) Are we missing one? Make a PR! To use a translation, first copy the i18n/translations folder to a translations folder at the root of a FAT-32 formatted microSD card, then insert the card into your M5StickV, and reboot the device. Once at the start screen, go to Settings , followed by Locale , and select the locale you wish to use. Your preference will be automatically saved to a settings.json file at the root of your microSD card.","title":"Multilingual support"},{"location":"getting-started/installing/#upgrade-via-microsd-card","text":"Once you've installed the initial firmware on your device via USB, you can either continue updating the device by flashing or you can perform upgrades via microSD card to keep the device airgapped. To perform an upgrade, simply copy the firmware.bin and firmware.bin.sig files to the root of a FAT-32 formatted microSD card, insert the card into your M5StickV, and reboot the device. If it detects the new firmware file and is able to verify the signature, you will be prompted to install it. Once installation is complete, eject the microSD card and delete the firmware files before reinserting and rebooting.","title":"Upgrade via microSD card"},{"location":"getting-started/loading-a-mnemonic/","text":"Once you have either a 12- or 24-word mnemonic, choose Load Mnemonic on Krux's start menu, and you will be presented with several input methods: Input Methods \u00b6 Via Text \u00b6 Enter each word of your BIP-39 mnemonic one at a time. Krux will disable impossible-to-reach letters as you type and will attempt to autocomplete your words to speed up the process. On your 12th or 24th word, you can leave the word blank to have Krux generate the final word of your mnemonic for you. This is handy if you chose a manual method to generate your mnemonic and want the final word to be a valid checksum. Via Numbers \u00b6 Enter each word of your BIP-39 mnemonic as a number from 1 to 2048 one at a time. You can use this list for reference. On your 12th or 24th word, you can leave the word blank to have Krux generate the final word of your mnemonic for you. This is handy if you chose a manual method to generate your mnemonic and want the final word to be a valid checksum. Via Bits \u00b6 Enter each word of your BIP-39 mnemonic as a bitstring one at a time. To speed up input, leading 0s are optional. On your 12th or 24th word, you can leave the word blank to have Krux generate the final word of your mnemonic for you. This is handy if you chose a manual method to generate your mnemonic and want the final word to be a valid checksum. Via QR \u00b6 It's unpleasant having to manually enter 12 or 24 words each time you want to use Krux. To remedy this you can instead use the device's camera to read a QR code containing the words (encoded as a single space-separated text string). You can either use an offline QR code generator for this (ideally on an airgapped device), or you can attach a thermal printer to your Krux and print out the mnemonic after opening your wallet via one of the manual methods first. Check out the Printing section for more information. Once you have entered your mnemonic, you will be presented with the full list of words to confirm. Single-key or Multisig \u00b6 After loading your mnemonic, you will be brought to a small menu asking if you want to use it as part of a Single-key or Multisig wallet. Your choice here will subtly change the generated xpub that is used to set up your device in your wallet coordinator software. You can learn more about the difference in the following guides for using single-key and multisig wallets. Now, onto the main menu...","title":"Loading a Mnemonic"},{"location":"getting-started/loading-a-mnemonic/#input-methods","text":"","title":"Input Methods"},{"location":"getting-started/loading-a-mnemonic/#via-text","text":"Enter each word of your BIP-39 mnemonic one at a time. Krux will disable impossible-to-reach letters as you type and will attempt to autocomplete your words to speed up the process. On your 12th or 24th word, you can leave the word blank to have Krux generate the final word of your mnemonic for you. This is handy if you chose a manual method to generate your mnemonic and want the final word to be a valid checksum.","title":"Via Text"},{"location":"getting-started/loading-a-mnemonic/#via-numbers","text":"Enter each word of your BIP-39 mnemonic as a number from 1 to 2048 one at a time. You can use this list for reference. On your 12th or 24th word, you can leave the word blank to have Krux generate the final word of your mnemonic for you. This is handy if you chose a manual method to generate your mnemonic and want the final word to be a valid checksum.","title":"Via Numbers"},{"location":"getting-started/loading-a-mnemonic/#via-bits","text":"Enter each word of your BIP-39 mnemonic as a bitstring one at a time. To speed up input, leading 0s are optional. On your 12th or 24th word, you can leave the word blank to have Krux generate the final word of your mnemonic for you. This is handy if you chose a manual method to generate your mnemonic and want the final word to be a valid checksum.","title":"Via Bits"},{"location":"getting-started/loading-a-mnemonic/#via-qr","text":"It's unpleasant having to manually enter 12 or 24 words each time you want to use Krux. To remedy this you can instead use the device's camera to read a QR code containing the words (encoded as a single space-separated text string). You can either use an offline QR code generator for this (ideally on an airgapped device), or you can attach a thermal printer to your Krux and print out the mnemonic after opening your wallet via one of the manual methods first. Check out the Printing section for more information. Once you have entered your mnemonic, you will be presented with the full list of words to confirm.","title":"Via QR"},{"location":"getting-started/loading-a-mnemonic/#single-key-or-multisig","text":"After loading your mnemonic, you will be brought to a small menu asking if you want to use it as part of a Single-key or Multisig wallet. Your choice here will subtly change the generated xpub that is used to set up your device in your wallet coordinator software. You can learn more about the difference in the following guides for using single-key and multisig wallets. Now, onto the main menu...","title":"Single-key or Multisig"},{"location":"getting-started/navigating-the-main-menu/","text":"After entering your mnemonic, you will find yourself on Krux's main menu. Below is a breakdown of the options: Mnemonic \u00b6 This option allows you to view your mnemonic words and, if you have a thermal printer attached, print out the mnemonic as a QR code. The data in this code will be a plaintext space-separated string of the (English) words. This QR code can then be read by Krux for faster loads in the future. Extended Public Key \u00b6 This option displays your master extended public key (xpub) as text as well as a QR code. After the xpub, a zpub or Zpub is shown depending on if a single-key or multisig wallet was chosen. This z/Zpub is usually not necessary unless you are using a wallet coordinator that either cannot parse or ignores key origin information in key expressions . If a thermal printer is attached, you can print both QR codes. Wallet \u00b6 When you first select this option, you will be prompted to load a wallet. At this point, the camera will turn on and you will need to scan a wallet backup QR code from your wallet coordinator software. If scanned successfully, you will see a preview of the wallet to confirm. If you return to this option after having loaded your wallet, you will see the wallet's name and the (abbreviated) xpubs of all cosigners along with a QR code containing the same exact data that was loaded. If you have a thermal printer attached, you can print this QR code. Note that you currently can't change the wallet once one has been loaded. To do this, you will need to restart the device and re-enter your mnemonic. Scan Address \u00b6 This option turns on the camera and allows you to scan in a QR code of a receive address. Upon scanning, it will render its own QR code of the address back to the display along with the (text) address below it. You could use this feature to scan the address of someone you want to send coins to and display the QR back to your wallet coordinator rather than copy-pasting an address. If you have a thermal printer attached, you can also print this QR code. After proceeding through this screen, you will be asked if you want to check that the address belongs to your wallet. If you confirm, it will exhaustively search through as many addresses derived from your wallet as you want in order to find a match. This option exists as an extra security check to verify that the address your wallet coordinator has generated is authentic and belongs to your wallet. Sign \u00b6 Under Sign , you can choose to sign a PSBT or a message (sha256 hash). PSBT \u00b6 This option turns on the camera and allows you to scan an animated QR code of a PSBT generated by your wallet coordinator software. Upon scanning, you will be shown a preview of how much BTC is being sent, who is receiving it, and the fee that is being paid. Amounts are displayed in Satcomma standard format . If you confirm, a signed PSBT will be generated and an animated QR code will be displayed that you can use to import the signed PSBT back into your wallet coordinator software. If a thermal printer is attached, you can also print the QR codes. Message \u00b6 This option turns on the camera and allows you to scan a QR code of a message or the sha256 hash of one. Upon scanning, you will be shown a preview of the message's sha256 hash to confirm before signing. If you confirm, a signature will be generated and you will see a base64-encoded version of it followed by a QR code of it. If a thermal printer is attached, you can also print the QR code. Proceeding that, you will see your raw (master) public key in hexadecimal form, followed by a QR code of it, that can be used by others to verify your signature. If a thermal printer is attached, you can also print the QR code.","title":"Navigating the Main Menu"},{"location":"getting-started/navigating-the-main-menu/#mnemonic","text":"This option allows you to view your mnemonic words and, if you have a thermal printer attached, print out the mnemonic as a QR code. The data in this code will be a plaintext space-separated string of the (English) words. This QR code can then be read by Krux for faster loads in the future.","title":"Mnemonic"},{"location":"getting-started/navigating-the-main-menu/#extended-public-key","text":"This option displays your master extended public key (xpub) as text as well as a QR code. After the xpub, a zpub or Zpub is shown depending on if a single-key or multisig wallet was chosen. This z/Zpub is usually not necessary unless you are using a wallet coordinator that either cannot parse or ignores key origin information in key expressions . If a thermal printer is attached, you can print both QR codes.","title":"Extended Public Key"},{"location":"getting-started/navigating-the-main-menu/#wallet","text":"When you first select this option, you will be prompted to load a wallet. At this point, the camera will turn on and you will need to scan a wallet backup QR code from your wallet coordinator software. If scanned successfully, you will see a preview of the wallet to confirm. If you return to this option after having loaded your wallet, you will see the wallet's name and the (abbreviated) xpubs of all cosigners along with a QR code containing the same exact data that was loaded. If you have a thermal printer attached, you can print this QR code. Note that you currently can't change the wallet once one has been loaded. To do this, you will need to restart the device and re-enter your mnemonic.","title":"Wallet"},{"location":"getting-started/navigating-the-main-menu/#scan-address","text":"This option turns on the camera and allows you to scan in a QR code of a receive address. Upon scanning, it will render its own QR code of the address back to the display along with the (text) address below it. You could use this feature to scan the address of someone you want to send coins to and display the QR back to your wallet coordinator rather than copy-pasting an address. If you have a thermal printer attached, you can also print this QR code. After proceeding through this screen, you will be asked if you want to check that the address belongs to your wallet. If you confirm, it will exhaustively search through as many addresses derived from your wallet as you want in order to find a match. This option exists as an extra security check to verify that the address your wallet coordinator has generated is authentic and belongs to your wallet.","title":"Scan Address"},{"location":"getting-started/navigating-the-main-menu/#sign","text":"Under Sign , you can choose to sign a PSBT or a message (sha256 hash).","title":"Sign"},{"location":"getting-started/navigating-the-main-menu/#psbt","text":"This option turns on the camera and allows you to scan an animated QR code of a PSBT generated by your wallet coordinator software. Upon scanning, you will be shown a preview of how much BTC is being sent, who is receiving it, and the fee that is being paid. Amounts are displayed in Satcomma standard format . If you confirm, a signed PSBT will be generated and an animated QR code will be displayed that you can use to import the signed PSBT back into your wallet coordinator software. If a thermal printer is attached, you can also print the QR codes.","title":"PSBT"},{"location":"getting-started/navigating-the-main-menu/#message","text":"This option turns on the camera and allows you to scan a QR code of a message or the sha256 hash of one. Upon scanning, you will be shown a preview of the message's sha256 hash to confirm before signing. If you confirm, a signature will be generated and you will see a base64-encoded version of it followed by a QR code of it. If a thermal printer is attached, you can also print the QR code. Proceeding that, you will see your raw (master) public key in hexadecimal form, followed by a QR code of it, that can be used by others to verify your signature. If a thermal printer is attached, you can also print the QR code.","title":"Message"},{"location":"getting-started/printing/","text":"Krux has the ability to print all QR codes it generates, including mnemonic, xpub, wallet backup, and signed PSBT, via a locally-connected thermal printer over its serial port. Consult the part list page for supported printers. Once connected and powered on, all screens that display a QR code will begin showing a follow-up screen asking if you want to Print to QR? . You can use the middle button to confirm or the right-side button to cancel. There are many ways you can use this functionality, including: Printing backups of your mnemonics and multisig wallets Printing your xpubs and receive addresses to share Printing signed messages and PSBTs Since printed thermal paper fades quickly, you can also print your backups on sticker thermal paper to use as templates for punching into more resilient materials like steel. We also have plans to add support for other kinds of QR \"printers\" in the future, including CNC machines. In this case, gcode will be generated that can be sent directly to a GRBL controller to cut your QRs out of wood or metal! Just be careful what you do with the printed codes, since most smartphones can now quickly and easily read QR codes. Treat your QR mnemonic the same way you would treat a plaintext copy of it.","title":"Printing"},{"location":"getting-started/settings/","text":"On Krux's start menu, there is a Settings option. Below is a breakdown of the settings you can change: Network \u00b6 This option allows you to switch between mainnet (the default) and testnet . This is mostly useful for development. Printer \u00b6 Printers can come with different baudrates from the manufacturer. By default, Krux assumes the connected printer will have a baudrate of 9600 . If yours is different, you can change this here. Locale \u00b6 Here you can change the language that Krux uses. Note that in order to change the locale you must have a microSD card with a translations folder containing translation files inserted into the device. Debug \u00b6 Krux is capable of logging out information as it runs to a .krux.log file on the root of an inserted microSD card. By default, it logs nothing . Unless you are running into a bug and trying to get more information to diagnose the problem, it is strongly recommended to leave the Log Level here as NONE . If you experience an error and want to see more information about it, including a stack trace, you can change the Log Level to ERROR . If you're developing and want to see everything , you can change Log Level to either INFO or DEBUG . Note that DEBUG could inadvertently write your private keys to the log file if you have it enabled when entering your mnemonic, so set it with care. To help prevent an accident like this from happening, Krux will display DEBUG on the start screen as a reminder when this is set.","title":"Settings"},{"location":"getting-started/settings/#network","text":"This option allows you to switch between mainnet (the default) and testnet . This is mostly useful for development.","title":"Network"},{"location":"getting-started/settings/#printer","text":"Printers can come with different baudrates from the manufacturer. By default, Krux assumes the connected printer will have a baudrate of 9600 . If yours is different, you can change this here.","title":"Printer"},{"location":"getting-started/settings/#locale","text":"Here you can change the language that Krux uses. Note that in order to change the locale you must have a microSD card with a translations folder containing translation files inserted into the device.","title":"Locale"},{"location":"getting-started/settings/#debug","text":"Krux is capable of logging out information as it runs to a .krux.log file on the root of an inserted microSD card. By default, it logs nothing . Unless you are running into a bug and trying to get more information to diagnose the problem, it is strongly recommended to leave the Log Level here as NONE . If you experience an error and want to see more information about it, including a stack trace, you can change the Log Level to ERROR . If you're developing and want to see everything , you can change Log Level to either INFO or DEBUG . Note that DEBUG could inadvertently write your private keys to the log file if you have it enabled when entering your mnemonic, so set it with care. To help prevent an accident like this from happening, Krux will display DEBUG on the start screen as a reminder when this is set.","title":"Debug"},{"location":"getting-started/using-a-multisig-wallet/","text":"This guide assumes you have already created a mnemonic for each cosigner that will be in your multisig wallet. If that is not the case, head over to the Generating a Mnemonic page and complete those steps first. When entering your mnemonics into Krux, make sure to select Multisig for all keys in your multisig. The choice of single-key vs. multisig at this point will change the derivation path used to generate your master extended public key (xpub) which will affect how wallet software handles it. Selecting Multisig will derive an xpub using the derivation path m/48'/0'/0'/2' on mainnet and m/48'/1'/0'/2' on testnet, which indicates to wallet software that a Multisig Wallet script type should be used, specifically the Native Segwit script P2WSH , or just wsh . Create the wallet \u00b6 Specter Desktop Sparrow BlueWallet In Specter Desktop, you will need to import your public key by adding a new device. Press the Add new device button on the left side of the app. Krux is not listed as one of the available device types on the Add Device screen, so you will need to select the Other option. You will be taken to the Upload Keys screen where you can choose to Scan QR code . On your Krux, navigate to the Extended Public Key option under the main menu and show the first QR code to Specter Desktop. It should import the xpub and display the Purpose as #0 Multisig Sig (Segwit) . Give the device a name and press Continue . You should see the new device in the devices list on the left side of the app. Repeat this process for every key that will be in your multisig wallet. Once all key devices have been added, you can make a wallet using them. Press the Add new wallet button on the left side of the app. Choose to create a Multisignature wallet when it asks which type of wallet you want on the following screen. Select the devices you just added and press Continue . Give your wallet a name, make sure to select Segwit for the wallet type, and decide how many of your keys are required to sign a transaction, then press Create wallet . Congrats, you just created a multisig wallet! In Sparrow, create a new wallet by going to File > New Wallet and give it a name. On the wallet screen, make sure to select a Multi Signature policy type with the Native Segwit (P2WSH) script type. Here you can decide how many keys will be in your multisig and how many should be required to sign a transaction. Now, you will need to import your public key. To do so, press the Airgapped Hardware Wallet button under Keystores . On the screen that pops up, Krux is not listed as one of the available device types, so look for the Specter DIY option and click its Scan... button. On your Krux, navigate to the Extended Public Key option under the main menu and show the first QR code to Sparrow. It should import the xpub and show a key under Keystores like the following: Repeat this process for every key that will be in your multisig wallet. Once all keys have been added, click the blue Apply button to create your wallet. Congrats, you just created a multisig wallet! In BlueWallet, create a new wallet by either pressing the + button or scrolling to the right until you see the Add now button. On the screen that pops up, add a name for your wallet, tap on Vault , and tap Create to begin creating a multisig wallet. On the following screen, you can proceed with the defaults or adjust the number of cosigners (default is 2-of-3) as needed by going into the Vault Settings. Make sure to leave the script type as p2wsh . Continue and you will be taken to a screen where you can import your keys. Tap Import under the first Vault Key . Tap again on Scan or import a file to begin scanning a QR code. On your Krux, navigate to the Extended Public Key option under the main menu and show the first QR code to BlueWallet. You should see a green checkmark next to the key if successful. Repeat this process for every key that will be in your multisig wallet. Once all keys have been added, tap Create . From here, you can send or receive. Congrats, you just created a multisig wallet! Load the wallet into Krux \u00b6 Note: While not required, it is strongly recommended to load your multisig wallet into Krux before signing a PSBT as it will allow the device to verify that the transaction it is signing has the correct list of cosigners as defined in the wallet. It is also useful if you wish to print a backup of the wallet or visually inspect the list of cosigners being output by your wallet coordinator. Specter Desktop Sparrow BlueWallet Load the wallet into Krux by going to the Settings page in Specter Desktop, then click the Export tab. There, press the Export button to display a QR code of your wallet. In Krux, select the Wallet menu item option and scan the QR code. If it worked, Krux should display the wallet information that it loaded: Load the wallet into Krux by going back to the Settings page in Sparrow, then click the Export... button at the bottom of the screen and find Specter Desktop in the options list that pops up. Click its Show... button to display a QR code that you can import into Krux. In Krux, select the Wallet menu item option and scan the QR code. If it worked, Krux should display the wallet information that it loaded: Load the wallet into Krux by tapping the ellipsis in the top-right to see the wallet settings. From here, tap Export Coordination Setup in order to display a QR code of your wallet. In Krux, select the Wallet menu item option and scan the QR code. If it worked, Krux should display the wallet information that it loaded: Receive coins \u00b6 Specter Desktop Sparrow BlueWallet The Receive screen should show your first receive address that you can send funds to. Navigate to the Receive screen where you should see your first receive address that you can send funds to. Navigate to the Receive screen where you should see your first receive address that you can send funds to. Send coins \u00b6 Specter Desktop Sparrow BlueWallet Go to Send in Specter Desktop, fill in the recipient address, amount, and any extra information you wish to supply, and click Create unsigned transaction . You will now see a screen listing the devices in your wallet. Select the device you want to sign the transaction (PSBT) with. Specter Desktop will display an animated QR code of the PSBT that you can scan with Krux by going to Sign > PSBT in its main menu. After scanning, Krux should display info about the transaction for you to confirm before signing. Once you have confirmed, Krux will begin animating a QR code of the signed transaction that you can scan into Specter Desktop. In Specter Desktop, click Scan signed transaction and show it the QR. Each part of the QR code that is read will receive a ghost icon to indicate progress. Once all parts of the QR code have been read, you should see a checkmark next to your device indicating its signature was added. Repeat this process for the remaining keys in your wallet until you have a quorum of signatures. After the final signature, a window will popup asking you to broadcast the transaction. Click Send transaction and your transaction should be broadcasted to the network! \ud83c\udf89 Go to the Send screen, fill in the recipient address, amount, and any extra information you wish to supply, and click the blue Create Transaction button. On the next screen, make sure that the Signing Wallet is the one you created and that the Sighash is set to All . Click the blue Finalize Transaction for Signing button. On the next screen, click Show QR to make Sparrow display an animated QR code of the PSBT that you can scan with Krux by going to Sign > PSBT in its main menu. After scanning, Krux should display info about the transaction for you to confirm before signing. Once you have confirmed, Krux will begin animating a QR code of the signed transaction that you can scan into Sparrow. In Sparrow, click Scan QR and show it the QR. A progress bar will indicate how many parts of the QR have been read. Once all parts of the QR code have been read, you should see the signature bar partially fill indicating the signature was added. Repeat this process for the remaining keys in your wallet until you have a quorum of signatures. After the final signature, the bar will fill and two new buttons appear. Click the blue Broadcast Transaction button and your transaction should be broadcasted to the network! \ud83c\udf89 Go to the Send screen, fill in the recipient address, amount, and any extra information you wish to supply, and tap Next . You should see an animated QR code of the PSBT that you can scan with Krux by going to Sign > PSBT in its main menu. After scanning, Krux should display info about the transaction for you to confirm before signing. Once you have confirmed, Krux will begin animating a QR code of the signed transaction that you can scan into BlueWallet. Once all parts of the QR code have been read, you can then choose to broadcast the transaction, sending it to the network! \ud83c\udf89","title":"Using a Multisig Wallet"},{"location":"getting-started/using-a-multisig-wallet/#create-the-wallet","text":"Specter Desktop Sparrow BlueWallet In Specter Desktop, you will need to import your public key by adding a new device. Press the Add new device button on the left side of the app. Krux is not listed as one of the available device types on the Add Device screen, so you will need to select the Other option. You will be taken to the Upload Keys screen where you can choose to Scan QR code . On your Krux, navigate to the Extended Public Key option under the main menu and show the first QR code to Specter Desktop. It should import the xpub and display the Purpose as #0 Multisig Sig (Segwit) . Give the device a name and press Continue . You should see the new device in the devices list on the left side of the app. Repeat this process for every key that will be in your multisig wallet. Once all key devices have been added, you can make a wallet using them. Press the Add new wallet button on the left side of the app. Choose to create a Multisignature wallet when it asks which type of wallet you want on the following screen. Select the devices you just added and press Continue . Give your wallet a name, make sure to select Segwit for the wallet type, and decide how many of your keys are required to sign a transaction, then press Create wallet . Congrats, you just created a multisig wallet! In Sparrow, create a new wallet by going to File > New Wallet and give it a name. On the wallet screen, make sure to select a Multi Signature policy type with the Native Segwit (P2WSH) script type. Here you can decide how many keys will be in your multisig and how many should be required to sign a transaction. Now, you will need to import your public key. To do so, press the Airgapped Hardware Wallet button under Keystores . On the screen that pops up, Krux is not listed as one of the available device types, so look for the Specter DIY option and click its Scan... button. On your Krux, navigate to the Extended Public Key option under the main menu and show the first QR code to Sparrow. It should import the xpub and show a key under Keystores like the following: Repeat this process for every key that will be in your multisig wallet. Once all keys have been added, click the blue Apply button to create your wallet. Congrats, you just created a multisig wallet! In BlueWallet, create a new wallet by either pressing the + button or scrolling to the right until you see the Add now button. On the screen that pops up, add a name for your wallet, tap on Vault , and tap Create to begin creating a multisig wallet. On the following screen, you can proceed with the defaults or adjust the number of cosigners (default is 2-of-3) as needed by going into the Vault Settings. Make sure to leave the script type as p2wsh . Continue and you will be taken to a screen where you can import your keys. Tap Import under the first Vault Key . Tap again on Scan or import a file to begin scanning a QR code. On your Krux, navigate to the Extended Public Key option under the main menu and show the first QR code to BlueWallet. You should see a green checkmark next to the key if successful. Repeat this process for every key that will be in your multisig wallet. Once all keys have been added, tap Create . From here, you can send or receive. Congrats, you just created a multisig wallet!","title":"Create the wallet"},{"location":"getting-started/using-a-multisig-wallet/#load-the-wallet-into-krux","text":"Note: While not required, it is strongly recommended to load your multisig wallet into Krux before signing a PSBT as it will allow the device to verify that the transaction it is signing has the correct list of cosigners as defined in the wallet. It is also useful if you wish to print a backup of the wallet or visually inspect the list of cosigners being output by your wallet coordinator. Specter Desktop Sparrow BlueWallet Load the wallet into Krux by going to the Settings page in Specter Desktop, then click the Export tab. There, press the Export button to display a QR code of your wallet. In Krux, select the Wallet menu item option and scan the QR code. If it worked, Krux should display the wallet information that it loaded: Load the wallet into Krux by going back to the Settings page in Sparrow, then click the Export... button at the bottom of the screen and find Specter Desktop in the options list that pops up. Click its Show... button to display a QR code that you can import into Krux. In Krux, select the Wallet menu item option and scan the QR code. If it worked, Krux should display the wallet information that it loaded: Load the wallet into Krux by tapping the ellipsis in the top-right to see the wallet settings. From here, tap Export Coordination Setup in order to display a QR code of your wallet. In Krux, select the Wallet menu item option and scan the QR code. If it worked, Krux should display the wallet information that it loaded:","title":"Load the wallet into Krux"},{"location":"getting-started/using-a-multisig-wallet/#receive-coins","text":"Specter Desktop Sparrow BlueWallet The Receive screen should show your first receive address that you can send funds to. Navigate to the Receive screen where you should see your first receive address that you can send funds to. Navigate to the Receive screen where you should see your first receive address that you can send funds to.","title":"Receive coins"},{"location":"getting-started/using-a-multisig-wallet/#send-coins","text":"Specter Desktop Sparrow BlueWallet Go to Send in Specter Desktop, fill in the recipient address, amount, and any extra information you wish to supply, and click Create unsigned transaction . You will now see a screen listing the devices in your wallet. Select the device you want to sign the transaction (PSBT) with. Specter Desktop will display an animated QR code of the PSBT that you can scan with Krux by going to Sign > PSBT in its main menu. After scanning, Krux should display info about the transaction for you to confirm before signing. Once you have confirmed, Krux will begin animating a QR code of the signed transaction that you can scan into Specter Desktop. In Specter Desktop, click Scan signed transaction and show it the QR. Each part of the QR code that is read will receive a ghost icon to indicate progress. Once all parts of the QR code have been read, you should see a checkmark next to your device indicating its signature was added. Repeat this process for the remaining keys in your wallet until you have a quorum of signatures. After the final signature, a window will popup asking you to broadcast the transaction. Click Send transaction and your transaction should be broadcasted to the network! \ud83c\udf89 Go to the Send screen, fill in the recipient address, amount, and any extra information you wish to supply, and click the blue Create Transaction button. On the next screen, make sure that the Signing Wallet is the one you created and that the Sighash is set to All . Click the blue Finalize Transaction for Signing button. On the next screen, click Show QR to make Sparrow display an animated QR code of the PSBT that you can scan with Krux by going to Sign > PSBT in its main menu. After scanning, Krux should display info about the transaction for you to confirm before signing. Once you have confirmed, Krux will begin animating a QR code of the signed transaction that you can scan into Sparrow. In Sparrow, click Scan QR and show it the QR. A progress bar will indicate how many parts of the QR have been read. Once all parts of the QR code have been read, you should see the signature bar partially fill indicating the signature was added. Repeat this process for the remaining keys in your wallet until you have a quorum of signatures. After the final signature, the bar will fill and two new buttons appear. Click the blue Broadcast Transaction button and your transaction should be broadcasted to the network! \ud83c\udf89 Go to the Send screen, fill in the recipient address, amount, and any extra information you wish to supply, and tap Next . You should see an animated QR code of the PSBT that you can scan with Krux by going to Sign > PSBT in its main menu. After scanning, Krux should display info about the transaction for you to confirm before signing. Once you have confirmed, Krux will begin animating a QR code of the signed transaction that you can scan into BlueWallet. Once all parts of the QR code have been read, you can then choose to broadcast the transaction, sending it to the network! \ud83c\udf89","title":"Send coins"},{"location":"getting-started/using-a-single-key-wallet/","text":"This guide assumes you have already created a mnemonic. If that is not the case, head over to the Generating a Mnemonic page and complete those steps first. When entering your mnemonic into Krux, make sure to select Single-key before proceeding. The choice of single-key vs. multisig at this point will change the derivation path used to generate your master extended public key (xpub) which will affect how wallet software handles it. Selecting Single-key will derive an xpub using the derivation path m/84'/0'/0' on mainnet and m/84'/1'/0' on testnet, which indicates to wallet software that a Segregated Witness (Segwit) script type should be used. For single-key wallets, this script is P2WPKH , or just wpkh . Create the wallet \u00b6 Specter Desktop Sparrow BlueWallet In Specter Desktop, you will need to import your public key by adding a new device. Press the Add new device button on the left side of the app. Krux is not listed as one of the available device types on the Add Device screen, so you will need to select the Other option. You will be taken to the Upload Keys screen where you can choose to Scan QR code . On your Krux, navigate to the Extended Public Key option under the main menu and show the first QR code to Specter Desktop. It should import the xpub and display the Purpose as #0 Single Sig (Segwit) . Give the device a name and press Continue . You should see the new device in the devices list on the left side of the app. After you've added a device with your key to Specter Desktop, you can make a wallet using it. Press the Add new wallet button on the left side of the app. Choose to create a Single key wallet when it asks which type of wallet you want on the following screen. Select the device you just added. Give your wallet a name and make sure to select Segwit for the wallet type, then press Create wallet . Congrats, you just created a single-key wallet with your key! In Sparrow, create a new wallet by going to File > New Wallet and give it a name. On the wallet screen, make sure to select a Single Signature policy type with the Native Segwit (P2WPKH) script type. Now, you will need to import your public key. To do so, press the Airgapped Hardware Wallet button under Keystores . On the screen that pops up, Krux is not listed as one of the available device types, so look for the Specter DIY option and click its Scan... button. On your Krux, navigate to the Extended Public Key option under the main menu and show the first QR code to Sparrow. It should import the xpub and show a key under Keystores like the following: If everything looks right, click the blue Apply button to create your wallet. Congrats, you just created a single-key wallet with your key! In BlueWallet, create a new wallet by either pressing the + button or scrolling to the right until you see the Add now button. On the screen that pops up, tap Import wallet to import your public key. On the following screen, tap Scan or import a file and it will begin trying to scan a QR code. On your Krux, navigate to the Extended Public Key option under the main menu and make sure to show the second, zpub QR code to BlueWallet. It should import the key and create a watch-only wallet. From here, you can send or receive. Congrats, you just created a single-key wallet with your key! Load the wallet into Krux \u00b6 Note: This step is unnecessary for signing PSBTs with single-key wallets since the script type ( wpkh ) and key are already known. However, this can be useful if you wish to print a backup of the wallet or want an additional sanity check. Specter Desktop Sparrow BlueWallet Load the wallet into Krux by going to the Settings page in Specter Desktop, then click the Export tab. There, press the Export button to display a QR code of your wallet. In Krux, select the Wallet menu item option and scan the QR code. If it worked, Krux should display the wallet information that it loaded: Load the wallet into Krux by going back to the Settings page in Sparrow, then click the Export... button at the bottom of the screen and find Specter Desktop in the options list that pops up. Click its Show... button to display a QR code that you can import into Krux. In Krux, select the Wallet menu item option and scan the QR code. If it worked, Krux should display the wallet information that it loaded: Load the wallet into Krux by tapping the ellipsis in the top-right to see the wallet settings. From here, tap Export/Backup in order to display a QR code of your wallet. In Krux, select the Wallet menu item option and scan the QR code. If it worked, Krux should display the wallet information that it loaded: Receive coins \u00b6 Specter Desktop Sparrow BlueWallet Navigate to the Receive screen where you should see a receive address that you can send funds to. Navigate to the Receive screen where you should see a receive address that you can send funds to. Navigate to the Receive screen where you should see a receive address that you can send funds to. Note that you can verify the receive address belongs to your wallet by using the Scan Address option. Send coins \u00b6 Specter Desktop Sparrow BlueWallet Go to Send in Specter Desktop, fill in the recipient address, amount, and any extra information you wish to supply, and click Create unsigned transaction . You will now see a screen listing the devices in your wallet. Select the device you want to sign the transaction (PSBT) with. Specter Desktop will display an animated QR code of the PSBT that you can scan with Krux by going to Sign > PSBT in its main menu. After scanning, Krux should display info about the transaction for you to confirm before signing. Once you have confirmed, Krux will begin animating a QR code of the signed transaction that you can scan into Specter Desktop. In Specter Desktop, click Scan signed transaction and show it the QR. Each part of the QR code that is read will receive a ghost icon to indicate progress. Once all parts of the QR code have been read, you should see a window popup asking you to broadcast the transaction. Click Send transaction and your transaction should be broadcasted to the network! \ud83c\udf89 Go to the Send screen, fill in the recipient address, amount, and any extra information you wish to supply, and click the blue Create Transaction button. On the next screen, make sure that the Signing Wallet is the one you created and that the Sighash is set to All . Click the blue Finalize Transaction for Signing button. On the next screen, click Show QR to make Sparrow display an animated QR code of the PSBT that you can scan with Krux by going to Sign > PSBT in its main menu. After scanning, Krux should display info about the transaction for you to confirm before signing. Once you have confirmed, Krux will begin animating a QR code of the signed transaction that you can scan into Sparrow. In Sparrow, click Scan QR and show it the QR. A progress bar will indicate how many parts of the QR have been read. Once all parts of the QR code have been read, you should see the signature bar fill and two new buttons appear. Click the blue Broadcast Transaction button and your transaction should be broadcasted to the network! \ud83c\udf89 Go to the Send screen, fill in the recipient address, amount, and any extra information you wish to supply, and tap Next . You should see an animated QR code of the PSBT that you can scan with Krux by going to Sign > PSBT in its main menu. After scanning, Krux should display info about the transaction for you to confirm before signing. Once you have confirmed, Krux will begin animating a QR code of the signed transaction that you can scan into BlueWallet. Once all parts of the QR code have been read, you can then choose to broadcast the transaction, sending it to the network! \ud83c\udf89","title":"Using a Single-key Wallet"},{"location":"getting-started/using-a-single-key-wallet/#create-the-wallet","text":"Specter Desktop Sparrow BlueWallet In Specter Desktop, you will need to import your public key by adding a new device. Press the Add new device button on the left side of the app. Krux is not listed as one of the available device types on the Add Device screen, so you will need to select the Other option. You will be taken to the Upload Keys screen where you can choose to Scan QR code . On your Krux, navigate to the Extended Public Key option under the main menu and show the first QR code to Specter Desktop. It should import the xpub and display the Purpose as #0 Single Sig (Segwit) . Give the device a name and press Continue . You should see the new device in the devices list on the left side of the app. After you've added a device with your key to Specter Desktop, you can make a wallet using it. Press the Add new wallet button on the left side of the app. Choose to create a Single key wallet when it asks which type of wallet you want on the following screen. Select the device you just added. Give your wallet a name and make sure to select Segwit for the wallet type, then press Create wallet . Congrats, you just created a single-key wallet with your key! In Sparrow, create a new wallet by going to File > New Wallet and give it a name. On the wallet screen, make sure to select a Single Signature policy type with the Native Segwit (P2WPKH) script type. Now, you will need to import your public key. To do so, press the Airgapped Hardware Wallet button under Keystores . On the screen that pops up, Krux is not listed as one of the available device types, so look for the Specter DIY option and click its Scan... button. On your Krux, navigate to the Extended Public Key option under the main menu and show the first QR code to Sparrow. It should import the xpub and show a key under Keystores like the following: If everything looks right, click the blue Apply button to create your wallet. Congrats, you just created a single-key wallet with your key! In BlueWallet, create a new wallet by either pressing the + button or scrolling to the right until you see the Add now button. On the screen that pops up, tap Import wallet to import your public key. On the following screen, tap Scan or import a file and it will begin trying to scan a QR code. On your Krux, navigate to the Extended Public Key option under the main menu and make sure to show the second, zpub QR code to BlueWallet. It should import the key and create a watch-only wallet. From here, you can send or receive. Congrats, you just created a single-key wallet with your key!","title":"Create the wallet"},{"location":"getting-started/using-a-single-key-wallet/#load-the-wallet-into-krux","text":"Note: This step is unnecessary for signing PSBTs with single-key wallets since the script type ( wpkh ) and key are already known. However, this can be useful if you wish to print a backup of the wallet or want an additional sanity check. Specter Desktop Sparrow BlueWallet Load the wallet into Krux by going to the Settings page in Specter Desktop, then click the Export tab. There, press the Export button to display a QR code of your wallet. In Krux, select the Wallet menu item option and scan the QR code. If it worked, Krux should display the wallet information that it loaded: Load the wallet into Krux by going back to the Settings page in Sparrow, then click the Export... button at the bottom of the screen and find Specter Desktop in the options list that pops up. Click its Show... button to display a QR code that you can import into Krux. In Krux, select the Wallet menu item option and scan the QR code. If it worked, Krux should display the wallet information that it loaded: Load the wallet into Krux by tapping the ellipsis in the top-right to see the wallet settings. From here, tap Export/Backup in order to display a QR code of your wallet. In Krux, select the Wallet menu item option and scan the QR code. If it worked, Krux should display the wallet information that it loaded:","title":"Load the wallet into Krux"},{"location":"getting-started/using-a-single-key-wallet/#receive-coins","text":"Specter Desktop Sparrow BlueWallet Navigate to the Receive screen where you should see a receive address that you can send funds to. Navigate to the Receive screen where you should see a receive address that you can send funds to. Navigate to the Receive screen where you should see a receive address that you can send funds to. Note that you can verify the receive address belongs to your wallet by using the Scan Address option.","title":"Receive coins"},{"location":"getting-started/using-a-single-key-wallet/#send-coins","text":"Specter Desktop Sparrow BlueWallet Go to Send in Specter Desktop, fill in the recipient address, amount, and any extra information you wish to supply, and click Create unsigned transaction . You will now see a screen listing the devices in your wallet. Select the device you want to sign the transaction (PSBT) with. Specter Desktop will display an animated QR code of the PSBT that you can scan with Krux by going to Sign > PSBT in its main menu. After scanning, Krux should display info about the transaction for you to confirm before signing. Once you have confirmed, Krux will begin animating a QR code of the signed transaction that you can scan into Specter Desktop. In Specter Desktop, click Scan signed transaction and show it the QR. Each part of the QR code that is read will receive a ghost icon to indicate progress. Once all parts of the QR code have been read, you should see a window popup asking you to broadcast the transaction. Click Send transaction and your transaction should be broadcasted to the network! \ud83c\udf89 Go to the Send screen, fill in the recipient address, amount, and any extra information you wish to supply, and click the blue Create Transaction button. On the next screen, make sure that the Signing Wallet is the one you created and that the Sighash is set to All . Click the blue Finalize Transaction for Signing button. On the next screen, click Show QR to make Sparrow display an animated QR code of the PSBT that you can scan with Krux by going to Sign > PSBT in its main menu. After scanning, Krux should display info about the transaction for you to confirm before signing. Once you have confirmed, Krux will begin animating a QR code of the signed transaction that you can scan into Sparrow. In Sparrow, click Scan QR and show it the QR. A progress bar will indicate how many parts of the QR have been read. Once all parts of the QR code have been read, you should see the signature bar fill and two new buttons appear. Click the blue Broadcast Transaction button and your transaction should be broadcasted to the network! \ud83c\udf89 Go to the Send screen, fill in the recipient address, amount, and any extra information you wish to supply, and tap Next . You should see an animated QR code of the PSBT that you can scan with Krux by going to Sign > PSBT in its main menu. After scanning, Krux should display info about the transaction for you to confirm before signing. Once you have confirmed, Krux will begin animating a QR code of the signed transaction that you can scan into BlueWallet. Once all parts of the QR code have been read, you can then choose to broadcast the transaction, sending it to the network! \ud83c\udf89","title":"Send coins"}]}