{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"faq/","title":"FAQ","text":""},{"location":"faq/#is-krux-a-hardware-wallet","title":"Is Krux a hardware wallet?","text":"<p>The term \"hardware wallet\" typically refers to devices dedicated to storing private keys and signing transactions. These devices often feature specific security components like secure element chips.</p> <p>Krux was initially developed as a signer, operating exclusively in amnesic mode, which requires users to load their keys each time the device is powered on. However, Krux has evolved and now offers the option to store mnemonics, similar to traditional hardware wallets. These mnemonics can be stored in the device's internal memory or on SD cards.</p> <p>Krux does not include hardware secure elements. The security of stored data relies on encryption.</p> <p>Note: Due to the inherent fragility of electronic components, never use your Krux device or SD card encrypted storage as your sole backup method. Always maintain a physical backup for added security.</p>"},{"location":"faq/#what-is-beta-version","title":"What is Beta version?","text":"<p>The Beta version includes the latest and most experimental features, which we occasionally share on our social media. These can be found exclusively in the test (beta) repository. Use and flash the beta firmware if you are curious about new features or want to participate in the development process by hunting bugs, providing feedback, and sharing ideas in our Telegram groups or other social media platforms.</p> <p>For regular use, flash the official releases, which are signed, thoroughly tested, and well-documented.</p>"},{"location":"faq/#what-is-krux-android-app","title":"What is Krux Android app?","text":""},{"location":"faq/#how-can-i-find-it","title":"How can I find it?","text":"<p>The Krux Android app is available as an APK in the test (beta) repository. It requires Android 6.0 or above.</p>"},{"location":"faq/#how-can-i-install-it","title":"How can I install it?","text":"<p>The APK is not available on the Play Store. You can download the APK directly or transfer it to your Android device via SD card or USB cable. To install it, you may need to configure your Android device to allow installations from unknown sources.</p>"},{"location":"faq/#is-it-safe-to-use","title":"Is it safe to use?","text":"<p>The Krux Android app is designed for learning about Krux and Bitcoin air-gapped transactions. Due to the numerous potential vulnerabilities inherent in smartphones, such as the lack of control over the operating system, libraries, and hardware peripherals, the Krux app should NOT be used to manage wallets containing savings or important keys and mnemonics. For secure management of your keys, a dedicated device is recommended.</p>"},{"location":"","title":"Krux","text":"<p>Krux is an open-source firmware that transforms off-the-shelf Kendryte K210 devices, such as the Maix Amigo, M5StickV and more, into versatile bitcoin transaction signers. Beyond its core functionality, Krux is a flexible platform that can adapt to devices with different form factors, providing a suite of tools to assist with the creation and recovery of mnemonic backups, some of which include encryption options for enhanced security.</p> <p>Devices like the Maix Amigo and Yahboom come ready to use, with large touchscreens that make it easy and user-friendly to operate. These devices are ideal for those looking for a plug-and-play solution. On the other hand, Krux also supports development board kits, which are perfect for DIY enthusiasts who enjoy customizing and building their own hardware setups.</p> <p>Interacting seamlessly with leading coordinator wallets through QR codes, SD cards, and even thermal printers, the user-friendly firmware offers unique features to support transactions and mnemonic backups in an offline environment.</p> <p>To learn more about Krux, check out Getting Started.</p>"},{"location":"parts/","title":"Devices and Parts List","text":""},{"location":"parts/#krux-compatible-devices","title":"Krux Compatible Devices","text":""},{"location":"parts/#comparative-table","title":"Comparative Table","text":"Device M5StickV Maix Amigo Maix Dock Maix Bit Yahboom k210 module Maix Cube Price range US$ 50-55 US$ 50-85 US$ 27-35 US$ 32-42 US$ 45-61 US$ 34-49 Screen size / resolution 1.14\" / 135*240 3.5\" / 320*480 2.4\" / 240*320 2.4\" / 240*320 2\" / 240*320 1.3\" / 240*240 Brightness control Device size 48*24*22mm 104*63*17mm 98*59*18mm 69*84*41mm 57*41*17mm 40*40*16mm Touchscreen Capacitive Capacitive Camera  <code>OV7740</code> <code>OV7740</code> rear<code>GC0328</code> front <code>GC0328</code> <code>OV2640</code> or<code>OV5642</code> <code>OV2640</code> (VER:1.0) or<code>GC2145</code> (VER:1.1) <code>OV7740</code> Battery 200mAh 520mAh 200mAh Requirements None None Rotary encoder 3D printed case SolderingAssembly Buttons 3D printed case SolderingAssembly None None Warnings Camera has lens distortion Micro USB 3-Way button <p>: Only <code>OV7740</code> and <code>OV2640</code> have an anti-glare mode to better capture images from high brightness screens or with incident light. </p> <p>: M5StickV's USB-C port lacks pull up resistors required for it to be recognized and powered by host (computer) USB-C ports. If you don't have an USB-A available, you can use a USB hub connected between your computer's USB-C and M5StickV. </p> <p>: Some Amigo screens have inverted X coordinates, others display colors differently. For more info see Troubleshooting. </p> <p>: Some stores ship the Maix Dock with soldered pin connectors that do not fit into the 3D printed case. </p> <p>All devices feature Kendryte K210 chip: 28nm process, dual-core RISC-V 64bit @400MHz, 8 MB high-speed SRAM, DVP camera and MCU LCD interface, AES Accelerator, SHA256 Accelerator, FFT Accelerator. </p>"},{"location":"parts/#m5stickv","title":"M5StickV","text":"<p>Below is a list of some distributors where you can find this device:</p> <ul> <li>M5Stack</li> <li>Mouser</li> <li>Digi-Key</li> <li>Electromaker</li> <li>Lee's Electronic</li> <li>AliExpress</li> <li>ABRA</li> <li>Adafruit</li> <li>Cytron</li> </ul>"},{"location":"parts/#maix-amigo","title":"Maix Amigo","text":"<p>Below is a list of some distributors where you can find this device:</p> <ul> <li>AliExpress</li> <li>Seeed Studio</li> <li>Digi-Key</li> <li>Mouser</li> <li>Electromaker</li> </ul>"},{"location":"parts/#yahboom-k210-module","title":"Yahboom k210 module","text":"<p>It comes with a compatible 32G card, an USB card reader, one PH2.0 4Pin male-to-male connector and one PH2.0 female adapter (to connect to a thermal printer). Below is a list of some distributors where you can find this device:</p> <ul> <li>AliExpress</li> <li>Amazon</li> <li>Yahboom Store</li> <li>ETC HK Shop</li> </ul>"},{"location":"parts/#maix-cube","title":"Maix Cube","text":"<p>Below is a list of some distributors where you can find this device:</p> <ul> <li>Seeed Studio</li> <li>Mouser</li> <li>Electromaker</li> <li>Digi-Key</li> <li>AliExpress</li> <li>Amazon</li> </ul>"},{"location":"parts/#maix-dock-and-maix-bit","title":"Maix Dock and Maix Bit","text":"<p>For the DIYers, the Maix Dock and Maix Bit are also supported but will require sourcing the parts individually and building the device yourself.</p> <p>Below are example implementations with instructions on how to recreate them:</p> <ul> <li>https://github.com/selfcustody/DockEncoderCase</li> <li>https://github.com/selfcustody/MaixBitCase</li> </ul> <p>Below is a list of some distributors where you can find these devices:</p> <ul> <li>Mouser</li> <li>Electromaker</li> <li>Digi-Key</li> <li>AliExpress</li> <li>Amazon</li> </ul>"},{"location":"parts/#other-parts","title":"Other Parts","text":""},{"location":"parts/#usb-c-or-micro-usb-charge-cable","title":"USB-C or Micro USB Charge Cable","text":"<p>This will come with the device. It will be necessary to power, charge the device (if it has battery) and to initially flash the firmware.</p>"},{"location":"parts/#optional-microsd-card","title":"(Optional) MicroSD Card","text":"<p>We cannot guarantee that a microSD card is compatible and will work in your device; you'll need to test it on the device to be sure, read the FAQ for more info. Yahboom will come with a compatible 32G card. The size of the SD card isn't important; anything over a few megabytes will be plenty.</p>"},{"location":"parts/#optional-ttl-serial-thermal-printer","title":"(Optional) TTL Serial Thermal Printer","text":"<p>Warning/Disclaimer: This feature is intended for individuals with experience in electronics tinkering and soldering.</p> <p>Krux has the capability to print all QR codes it generates, including those for mnemonics, xpubs, wallet backups, and signed PSBTs, using a locally-connected thermal printer via its serial port.</p> <p>Many TTL serial thermal printers may be compatible, but currently, the Goojprt QR203 has the best support. The Adafruit printer starter pack can also be a convenient option to get started, as it includes all the necessary components for printing (except the conversion cable). To ensure proper functionality, enable the printer driver in the Krux settings, set the Tx pin and baud rate value to either 19200 or 9600 (depends on the printer), as explained in this Adafruit printer tutorial. You will need to connect the device's Tx to the printer's Rx and device's ground to the printer's ground, do not connect any other pins because a wrong connection may damage your device. The printer requires a dedicated power supply, typically with an output of 5 to 9V and capable of supplying at least 2A. For more information, see this discussion.</p>"},{"location":"parts/#optional-conversion-cable-for-thermal-printer","title":"(Optional) Conversion Cable for Thermal Printer","text":"<p>To connect the printer to M5StickV, Amigo or Cube, you will need a grove conversion cable with a 4-pin male Grove connector on one end (to connect to the device) and 4-pin male jumpers on the other end (to connect to the printer). Check your device and printer model connection first, Yahboom comes with PH2.0 4Pin female connector; Dock and Bit doesn't have a connector. For a more reliable connection, it is recommended to cut and solder the wires of your custom cables instead of using jumpers.</p>"},{"location":"support/","title":"Support the Project","text":""},{"location":"support/#ways-you-can-help","title":"Ways you can help","text":""},{"location":"support/#development","title":"Development","text":"<p>Audit the code, file an issue, make a pull request, or do all three. :)</p>"},{"location":"support/#documentation","title":"Documentation","text":"<p>\"I'd like to see Krux help as many people as possible, and to do that, good documentation is needed. If you identify a better way to say something, please make a PR, any help is appreciated.\" - Jeff</p>"},{"location":"support/#translation","title":"Translation","text":"<p>Krux supports different languages. If you missed a language or saw an awkward translation, open an issue or make a PR! You can also make a difference by translating this documentation! For information on how to translate, see here</p>"},{"location":"support/#social","title":"Social","text":"<p>Reach out via our Telegram group or X profile (Twitter) for faster help, share ideas and join the Krux community. Help others get to know Krux.</p> <p>\"I'm an engineer, not a marketer. If you like Krux, help spread the word!\" - Jeff</p>"},{"location":"support/#donations","title":"Donations","text":"<p>Krux won't ask for, receive, manage or distribute donations. You can donate directly to a Krux contributor of your choice.</p>"},{"location":"troubleshooting/","title":"Troubleshooting","text":""},{"location":"troubleshooting/#before-installing","title":"Before Installing","text":""},{"location":"troubleshooting/#linux-os-not-listing-serial-port","title":"Linux OS not listing serial port?","text":"<p>If you get the following error when trying to flash your device: <code>Failed to find device via USB. Is it connected and powered on?</code> Make sure your device is being detected and serial ports are being mounted by running: <pre><code>ls /dev/ttyUSB*\n</code></pre> Expect one port to be listed for devices like M5StickV and Maix Dock <code>/dev/ttyUSB0</code>, and two ports for Maix Amigo and Maix Bit <code>/dev/ttyUSB0  /dev/ttyUSB1</code>.</p> <p>If you don't see them, your OS may not be loading the correct drivers to create the serial ports to connect to. Ubuntu has a known bug where the <code>brltty</code> driver \"kidnaps\" serial devices. You can solve this problem by removing it: <pre><code>sudo apt-get remove brltty\n</code></pre></p>"},{"location":"troubleshooting/#m5stickv-device-not-being-recognized-and-charged","title":"M5StickV device not being recognized and charged?","text":"<p>M5StickV's USB-C port lacks pull up resistors required for it to be recognized and powered by host (computer) USB-C ports. If you don't have an USB-A available, you can use a USB hub connected between your computer's USB-C and M5StickV.</p>"},{"location":"troubleshooting/#device-not-charging-or-being-recognized","title":"Device not charging or being recognized?","text":"<p>If you have a Maix Amigo, make sure you're using the USB-C port at the bottom of the device, not the one on the left side.</p> <p>Different computer hosts have varying hardware, operating systems, and behaviors regarding connecting to their USB ports. Below are the expected behaviors:</p> <p>USB-A:</p> <p>Your device should charge and turn on when connected to a USB-A port, even if it was initially turned off. You can also turn off the device while it continues to charge. However, some hosts' USB-A ports may behave like USB-C ports, as described below.</p> <p>USB-C:</p> <ul> <li> <p>If the device is turned off and connected to a USB-C port, it should turn on and start charging. You can turn it off again, and it will continue to charge.</p> </li> <li> <p>If the device is already turned on and connected to a USB-C port, it may not charge or be recognized by the computer. In this case, turn off the device to initiate recognition and charging. Once turned off and reconnected, the device should restart, be recognized by the computer, and charging should be triggered by USB-C hosts. If your device is not charging or being recognized as expected, try using a different USB port or a different computer to determine if the issue is with the device or the host's USB port.</p> </li> </ul>"},{"location":"troubleshooting/#device-randomly-freezes-or-restarts","title":"Device randomly freezes or restarts?","text":"<p>If the device behaves this way when connected to the computer, Windows is known to have issues with USB-C devices. If you are experiencing random crashes or even reboots and your device does not have a battery, try using a phone charger or other power source such as a power bank.</p>"},{"location":"troubleshooting/#after-installing","title":"After Installing","text":""},{"location":"troubleshooting/#maix-amigo-touchscreen-doesnt-work-with-v24030-but-worked-okay-with-v23091","title":"Maix Amigo touchscreen doesn't work with v24.03.0 but worked okay with v23.09.1?","text":"<p>We added a hardware IRQ (interrupt request) to the firmware, so when you open your Maix Amigo, you will see a switch in the middle of the device board, it must be in the upper position for the touchscreen to work with v24.03.0 and later.</p>"},{"location":"troubleshooting/#troubleshooting-lcd-settings-on-maix-amigo","title":"Troubleshooting LCD Settings on Maix Amigo","text":"<p>Buttons in the Wrong Order</p> <p>If the buttons on keypad input screens appear to be in the wrong order, this might be due to inverted X coordinates. To correct this:</p> <ol> <li>Go to Settings &gt; Hardware &gt; Display.</li> <li>Change the value of <code>Flipped X Coordinates</code>.</li> </ol> <p>Incorrect Colors</p> <p>If the colors displayed on the interface or camera preview are incorrect, you can try the following options:</p> <p>Inverted Colors</p> <p>If, for example, the background color is white when it should be black, go to Settings &gt; Hardware &gt; Display and toggle <code>Inverted Colors</code> .</p> <p>BGR Colors</p> <p>If, for example, you are using the Orange theme, and instead of orange the colors appear bluish, toggle <code>BGR Colors</code> in the display settings.</p> <p>LCD Type</p> <p>WARNING!  Only try changing this setting if you failed to fix colors with previous ones.</p> <p>If adjusting <code>BGR Colors</code> and <code>Inverted Colors</code> doesn't fix the color issue, try changing the <code>LCD Type</code>:</p> <ol> <li>After changing this setting, you will be warned that the device will reboot automatically if this change does not resolve the issue (if it fails, the screen will turn black, and you'll not see anything).</li> <li>After proceeding with the warning, if you see a message prompting you to press the <code>PREVIOUS</code> (UP) button, it means that the new setting worked. Follow the instructions and press UP.</li> <li>If you notice menu options but the colors are still wrong, try again with different combinations of <code>Inverted Colors</code> and <code>BGR Colors</code>. This time, it is likely you will find a combination that correctly displays the colors of themes and the camera feed.</li> </ol> <p>If, after the warning in step 1, the screen turns black and you don't see anything, don't panic or press any buttons. Just wait 5 seconds, and the device will automatically reboot with the previous display settings. This means you should keep the default <code>LCD Type</code> setting and maybe try again with <code>Inverted Colors</code> and <code>BGR Colors</code>.</p> <p>If you accidentally pressed <code>PREVIOUS</code> (UP) and saved the wrong setting, you will have to perform a wipe to remove all stored settings to be able to see the screen working again. On Linux, go to the folder where you downloaded the Krux firmware and use Ktool to fully wipe your device:</p> <p><code>./ktool-linux -B goE -b 1500000 -E</code></p> <p>(Soon Krux-Installer will have a full wipe button too)</p> <p>Then flash the firmware again.</p> <p><code>./ktool-linux -B goE -b 1500000 maixpy_amigo/kboot.kfpkg</code></p>"},{"location":"troubleshooting/#device-didnt-reboot-and-screen-is-blank","title":"Device didn't reboot, and screen is blank","text":"<p>If the device didn't reboot after successfully flashing the firmware, and the screen is blank after turning it off and on, check if the downloaded file matches the device (this can also occur due to data corruption). Try downloading binaries again. </p> <p>You can also install MaixPy IDE to help with debugging, Tools &gt; Open Terminal &gt; New Terminal &gt; Connect to serial port &gt; Select a COM port available (if it doesn't work, try another COM port). It will show the terminal and some messages, a message about an empty device or with corrupted firmware appears like: \"interesting, something's wrong, boot failed with exit code 233, go to find your vendor.\"</p>"},{"location":"troubleshooting/#usage","title":"Usage","text":""},{"location":"troubleshooting/#why-isnt-krux-scanning-the-qr-code","title":"Why isn't Krux scanning the QR code?","text":"<p>The level of detail that you see is what Krux sees. If the QR code shown on the device's screen is blurry, the camera lens of the device may be out of focus. It can be adjusted by rotating it clockwise or counter-clockwise to achieve a clearer result. The lenses usually comes with a drop of glue that makes id harder to adjust for the first time. You can use your fingertip, tweezers or small precision pliers to help, being careful to don't damage the fragile lenses.</p> <p>If you have adjusted the lens already, the device may be too far away or too close to the code to read it. Start by holding the device as close to the QR code as possible and pulling away slowly until all or most of the QR code is viewable within the screen. If the code on the screen looks crisp, Krux should read it quickly and give you immediate feedback.</p> <p>If you are in a dark environment, you can hold down the <code>ENTER</code> button of the M5StickV or Maix Amigo to turn on their LED light to potentially increase visibility. Some cameras (<code>OV7740</code> and <code>OV2640</code>) have an anti-glare mode to better capture images from high brightness screens or with incident light, they are present on M5StickV, Amigo, Cube and some Yahboom. To enable/disable the anti-glare mode on a supported device just press the <code>PAGE</code> button while scanning.</p>"},{"location":"troubleshooting/#error-when-scanning-qr-code","title":"Error when scanning QR code?","text":"<p>If Krux is recognizing that it sees a QR code but is displaying an error message after reading it, the likely reason is that the QR code is not in a format that Krux works with. We have listed the supported formats below:</p> <p>For BIP-39 mnemonics:</p> <ul> <li>BIP-39 Plaintext (Used by Krux and https://iancoleman.io/bip39/)</li> <li>SeedSigner SeedQR and CompactSeedQR Formats</li> <li>UR Type <code>crypto-bip39</code></li> <li>Encrypted QR Code (Format created by Krux, more information here)</li> </ul> <p>For Wallet output descriptor:</p> <ul> <li>JSON with at least a <code>descriptor</code> key containing an output descriptor string</li> <li>Key-value INI files with at least <code>Format</code>, <code>Policy</code>, and <code>Derivation</code> keys</li> <li>UR Type <code>crypto-output</code></li> </ul> <p>For PSBT (Partially Signed Bitcoin Transactions):</p> <ul> <li>Base43, Base58, and Base64-encoded bytes</li> <li>Raw Bytes</li> <li>UR Type <code>crypto-psbt</code></li> </ul> <p>Additionally, Krux recognizes animated QR codes that use either the plaintext <code>pMofN</code> (the Specter QR format) or binary <code>UR</code> encodings.</p>"},{"location":"troubleshooting/#computer-not-reading-qr-code-that-krux-displays","title":"Computer not reading QR code that Krux displays?","text":"<p>You can toggle brightness of QR codes from public keys and PSBTs by pressing <code>PAGE</code> button. In the future, more work will be done to support displaying lower density QR codes. If you are using an M5StickV, the small screen makes it difficult for laptop webcams to capture enough detail to parse the QR codes it displays.</p> <p>For now, a workaround you can do is to take a picture or video of the QR code with a better-quality camera (such as your phone), then enlarge and display the photo or video to your webcam. Alternatively, it may be simpler to use a mobile wallet such as BlueWallet with the M5StickV since phone cameras don't seem to have issues reading the small QR codes. You can also save the PSBT on a microSD card for Krux to sign and then save the signed transaction to the microSD card to transfer the file to the computer or phone.</p>"},{"location":"troubleshooting/#why-does-krux-say-the-entropy-of-my-fifty-dice-rolls-does-not-contain-128-bits-of-entropy","title":"Why Does Krux Say the Entropy of My Fifty Dice Rolls Does Not Contain 128 Bits of Entropy?","text":"<p>Please check how entropy measurement works.</p>"},{"location":"uncommon-questions/","title":"Uncommon Questions","text":""},{"location":"uncommon-questions/#what-are-all-the-features-available","title":"What are all the features available?","text":"<p>On the official releases page you will find all the features listed, with details on the Getting Started page with a brief summary on the Navigation Overview page. </p>"},{"location":"uncommon-questions/#what-is-the-purpose-of-using-an-sd-card-with-the-device","title":"What is the purpose of using an SD card with the device?","text":"<p>SD card use is optional, but can be used to upgrade the firmware, save settings, cnc/file, QR codes, XPUBs, encrypted mnemonics, and also to save and load PSBTs, messages and wallet output descriptors.</p>"},{"location":"getting-started/","title":"Getting Started","text":"<p>Krux is open-source Bitcoin signing firmware for devices with the K210 chipset; also known as a hardware signer. </p> <p>Signing operations in Krux are done offline via QR code or via SD card using the PSBT functionality. You can create/load your BIP-39 mnemonic, or import a wallet descriptor, and sign transactions all without having to plug the device into your computer (except to initially install the firmware). It reads QR codes with its camera and outputs QR codes to its screen, or to paper via an optional thermal printer attachment. </p> <p>Krux runs offline, and therefore never handles the broadcasting part of the PSBT transaction. Instead, you can use Krux with third-party wallet coordinators to broadcast transactions from your online computer or mobile device while keeping your keys offline. Krux was built to be vendor agnostic and works with many popular wallet coordinators, including:</p> <ul> <li>Sparrow Wallet (desktop)</li> <li>Specter Desktop (desktop)</li> <li>Nunchuk (mobile)</li> <li>BlueWallet (mobile)</li> </ul>"},{"location":"getting-started/navigation/","title":"Navigation Overview","text":"<p>Below is the mind map representation of the currently menus available. Click the circle with a number (Ex.: ) to the right of each node to expand and explore. Also, enable full screen in the top right menu for better viewing .</p>"},{"location":"getting-started/navigation/#login-menu","title":"Login Menu","text":""},{"location":"getting-started/navigation/#home-menu-loaded-a-mnemonic","title":"Home Menu (Loaded a mnemonic)","text":""},{"location":"getting-started/settings/","title":"Settings","text":"<p>In the Krux home menu, there is a <code>Settings</code> entry. Some submenu entries have too many options to fit on one screen, swipe up  or down  to navigate between the screens if your device has a touchscreen. Below is a breakdown of the options you can change:</p> <p> </p>"},{"location":"getting-started/settings/#default-wallet","title":"Default Wallet","text":"<p>Set the default attributes for wallet loading.</p>"},{"location":"getting-started/settings/#multisig","title":"Multisig","text":"<p>Set this to true if you are more likely to use Krux for multisig setups. This way, you won't need to \"Customize\" your wallet attributes every time you load a key.</p>"},{"location":"getting-started/settings/#network","title":"Network","text":"<p>This option allows you to switch between <code>mainnet</code> (the default) and <code>testnet</code>. <code>Testnet</code> can be used to try out different wallet coordinators or for development. </p>"},{"location":"getting-started/settings/#encryption","title":"Encryption","text":"<p>Modify the encryption method and parameters to fit your needs. This will be used when storing encrypted mnemonics or creating encrypted QR codes. For more info see Krux Encrypted Mnemonics.</p>"},{"location":"getting-started/settings/#pbkdf2-iter-iterations","title":"PBKDF2 Iter. (Iterations)","text":"<p>When you enter the encryption key, it is not directly used to encrypt your data. In order to protect against brute force attacks, the key is derived multiple times using hashing functions. PBKDF2 (Password-Based Key Derivation Function) iterations stands for the amount of derivations that will be performed over your key prior to encrypt/decrypt your mnemonic.</p> <p>If you increase this value it will make the encryption harder, at the cost of taking longer to encrypt/decrypt your mnemonics.</p> <p>Values must be multiple of 10,000. This was done to save data space on QR codes.</p>"},{"location":"getting-started/settings/#encryption-mode","title":"Encryption Mode","text":"<p>Choose between well known and widely used AES (Advanced Encryption Standard) modes:</p>"},{"location":"getting-started/settings/#aes-ecb","title":"AES-ECB","text":"<p>ECB (Electronic Codebook) is a simpler method where data blocks are encrypted individually. Compared to CBC, it will be faster and simpler to encrypt, QR codes will have a lower density and will be easier to transcribe.</p>"},{"location":"getting-started/settings/#aes-cbc","title":"AES-CBC","text":"<p>CBC (Cipher-block Chaining) is considered more secure than ECB.  The first data block, an initialization vector (IV), is used to add random data to the encryption. The encryption of subsequent blocks depends on the data from previous blocks, ensuring chaining.</p> <p>Encryption will take longer because a snapshot will be needed to generate the IV. This IV will be stored together with the encrypted data, making encrypted QR codes denser and harder to transcribe.</p>"},{"location":"getting-started/settings/#hardware","title":"Hardware","text":"<p>Customize the parameters available for your device and change printer settings.</p>"},{"location":"getting-started/settings/#encoder-maix-dock-only","title":"Encoder (Maix Dock only)","text":"<p>If your device has a rotary encoder, you can change the debounce threshold in milliseconds. With lower values, faster movements and navigation will be allowed.</p> <p>The caveat is low values can cause issues, such as double step and unexpected movements, especially with lower quality encoders. If this is the case increase the value to make navigation more stable.</p>"},{"location":"getting-started/settings/#display-maix-amigo-only","title":"Display (Maix Amigo only)","text":"<p>Some Maix Amigo screens are different, here you can customize the <code>BGR Colors</code>, <code>Flipped X Coordinates</code>, <code>Inverted Colors</code> and <code>LCD Type</code>. For more info see Troubleshooting</p>"},{"location":"getting-started/settings/#printer","title":"Printer","text":"<p>You can set up a TTL serial thermal printer or tell Krux to store a GRBL CNC instructions file on a SD card to machine QR codes.</p>"},{"location":"getting-started/settings/#cnc","title":"CNC","text":"<p>Define several machining parameters according to the desired size, material you'll use, and your CNC characteristics and capabilities.</p>"},{"location":"getting-started/settings/#thermal","title":"Thermal","text":"<p>Printers can come with different baudrates from the manufacturer. By default, Krux assumes the connected printer will have a baudrate of <code>9600</code>. If yours is different, you can change it here.</p> <p>Also setup the TX Pin you'll use (e.g. 35 for M5StickV and 7 for Maix Amigo) and tweak other parameters according to your printer recommendations. For most printers you will only need to connect 2 cables, the device TX to the printer RX and ground. Current uses of printing are listed here. Consult the parts list for supported printers.</p>"},{"location":"getting-started/settings/#driver","title":"Driver","text":"<p>Here you choose between Thermal, CNC or none (default). Leave this setting to \"none\" if you won't use a printer and don't want to be bothered by print prompts.</p>"},{"location":"getting-started/settings/#touchscreen-maix-amigo-and-yahboom-only","title":"Touchscreen (Maix Amigo and Yahboom only)","text":"<p>If your device has touchscreen you can change the touch detection threshold. If it is being too sensitive or detecting false or ghost touches, you should increase the threshold value, making it less sensitive. The other way is also valid, reduce the threshold to make the screen more sensitive to touches.</p>"},{"location":"getting-started/settings/#language-locale","title":"Language - Locale","text":"<p>Here you can change Krux to your desired language.</p>"},{"location":"getting-started/settings/#persist","title":"Persist","text":"<p>Choose between flash (device's internal memory) or SD card for the place where your settings will be stored.</p>"},{"location":"getting-started/settings/#security","title":"Security","text":"<p>Adjust settings that may impact your security protocols.</p>"},{"location":"getting-started/settings/#shutdown-time","title":"Shutdown Time","text":"<p>Set the time it takes for Krux to automatically shut down. This feature not only conserves your device's battery, if it has one, but also serves as an important security measure. If you forget your device with private keys loaded, it will shut down automatically after the set time.</p> <p>Please note that devices without batteries and power management will not shut down but will reboot instead, which is sufficient to unload private keys.</p>"},{"location":"getting-started/settings/#hide-mnemonics","title":"Hide Mnemonics","text":"<p>When \"Hide Mnemonics\" mode is set to \"True\", your device will not display private key data or backup tools when a key is loaded. It will only show public key information and allow signing operations.</p>"},{"location":"getting-started/settings/#appearance","title":"Appearance","text":"<p>Configure screensaver time and change Krux to your desired theme.</p>"},{"location":"getting-started/settings/#screensaver-time","title":"Screensaver time","text":"<p>Set how long to wait idle before the screensaver appears. Enter 0 to disable the screensaver.</p>"},{"location":"getting-started/settings/#theme","title":"Theme","text":"<p>Choose your color theme according to your preference. Some themes may be more suitable for some devices, coordinator cameras and environments. As an example, it may be easier to scan QR codes from Krux devices using light theme in brighter environments.</p> <p> </p> <p> </p>"},{"location":"getting-started/settings/#factory-settings","title":"Factory Settings","text":"<p>Restore device to factory settings and reboot.</p>"},{"location":"getting-started/features/QR-transcript-tools/","title":"Transcribing QR Codes","text":"<p>When you export a mnemonic, encrypted mnemonic or a generic text QR code, alternative visualization modes will be available. Swipe left  or right  to change modes, or if your device doesn't have a touchscreen, press the <code>PAGE</code> buttons. Find transcribe templates here.</p>"},{"location":"getting-started/features/QR-transcript-tools/#standard-mode","title":"Standard Mode","text":"<p>This mode is optimized for scanning, the raw QR code will be displayed</p>"},{"location":"getting-started/features/QR-transcript-tools/#lines-mode","title":"Lines Mode","text":"<p>If you are good at transcribing things like handwritten text, with this mode one QR code line will be highlighted at a time. Press <code>Enter</code> to highlight the next line.</p>"},{"location":"getting-started/features/QR-transcript-tools/#zoomed-regions-mode","title":"Zoomed Regions Mode","text":"<p>QR codes will be split into regions, of 5x5 or 7x7 \"blocks\". One QR code region will be shown at a time. Press <code>Enter</code> to display the next region.</p>"},{"location":"getting-started/features/QR-transcript-tools/#highlighted-regions-mode","title":"Highlighted Regions Mode","text":"<p>QR codes will be split into regions, of 5x5 or 7x7 \"blocks\". One QR code region will be highlighted at a time. Press <code>Enter</code> to highlight the next region.</p>"},{"location":"getting-started/features/QR-transcript-tools/#grided-mode","title":"Grided Mode","text":"<p>Grids will be added to a standard QR code. In a dark room, if you place a sheet of paper over the device's screen, you'll notice QR code will be visible and it will be possible to copy it directly from above (tracing). Be careful not to damage your screen with pen and markers, use an insulating plastic tape or film to protect the device when using this method.</p>"},{"location":"getting-started/features/encrypted-mnemonics/","title":"Encrypted Mnemonics","text":""},{"location":"getting-started/features/encrypted-mnemonics/#introduction","title":"Introduction","text":"<p>There are many possible security layers one could add to protect a wallet\u2019s private key. Adding a BIP-39 passphrase to the mnemonic is the most common method. Encrypting a BIP-39 mnemonic has a similar use case as the BIP-39 passphrase, but the user experience may differ depending on the implementation. The main difference between BIP-39 passphrases and Krux\u2019s encrypted mnemonic implementation is that when users type the wrong key, encrypted mnemonics will return an error instead of loading a different wallet, as BIP-39 passphrases do. This difference may be desired or not. The implementation also has the convenience of storing a mnemonic ID together with the stored or QR code encrypted mnemonics. Mnemonic encryption, with its own key, can be used together with BIP-39 passphrase as an extra security layer.</p> <p>We use standard AES encryption modes ECB and CBC:</p>"},{"location":"getting-started/features/encrypted-mnemonics/#aes-ecb","title":"AES-ECB","text":"<p>ECB (Electronic Codebook) is a simpler method where encryption data blocks are encrypted individually. This mode is faster and simpler to encrypt, resulting in QR codes with lower density and easier to transcribe. It is generally considered less secure than CBC because it does not provide data chaining, meaning identical plaintext blocks will produce identical ciphertext blocks, making it vulnerable to pattern analysis. However, in Krux's implementation, only one or two binary data blocks are encrypted, so there will be no patterns, and the lack of chaining is not as relevant as it would be for larger files, plain text, or media.</p>"},{"location":"getting-started/features/encrypted-mnemonics/#aes-cbc","title":"AES-CBC","text":"<p>CBC (Cipher-block Chaining) is considered more secure. In the first data block, an initialization vector (IV) is used to add random data to the encryption. The encryption of subsequent blocks depends on the data from previous blocks, characterizing chaining. The tradeoff is that the encryption process will take longer because a snapshot will be needed to generate the IV. This IV will be stored together with encrypted data, making encrypted QR codes denser and harder to transcribe.</p>"},{"location":"getting-started/features/encrypted-mnemonics/#cbc-encryption-iv","title":"CBC Encryption IV","text":"<p>The Initial Vector (IV) will be generated from a snapshot taken with the camera. The IV is a fixed-size input value used in the first block of the encryption process. It adds randomness to the encryption, ensuring that data encrypted with the same key will produce different ciphertexts each time. The IV is not secret and will be transmitted along with the ciphertext. However, like any nonce, it should not be reused to maintain security.</p>"},{"location":"getting-started/features/encrypted-mnemonics/#pbkdf2-iterations","title":"PBKDF2 Iterations","text":"<p>When you enter the encryption key, it is not directly used to encrypt your data. In order to protect against brute force attacks, the key is derived multiple times using hashing functions. PBKDF2 (Password-Based Key Derivation Function) iterations refer to the number of derivations that will be performed over your key prior to encrypting/decrypting your mnemonic.</p>"},{"location":"getting-started/features/encrypted-mnemonics/#encrypted-qr-codes-data-and-parsing","title":"Encrypted QR Codes Data and Parsing","text":"<p>In search of efficiency and smaller QR codes, all data is converted to bytes and organized like a Bitcoin transaction, with variable and fixed length fields. The following data is present on the QR code:</p> ID length (1) ID (2) Version (3) Key Derivations (4) IV (5) Encrypted Mnemonic (6) Validation Block (7) 1 Byte Variable 1 Byte 3 Bytes 16 Bytes (optional) 16 Bytes (12 words) 32 Bytes (24 words) 16 Bytes <ul> <li>Visible data (1 to 4):<ul> <li>(1) Mnemonic ID length (1 Byte).</li> <li>(2) Mnemonic ID (variable lenght): Custom ID or wallet fingerprint.</li> <li>(3) Version (1 Byte): Version of encryption method, currently two are available:<ul> <li>0: AES-ECB-PBKDF2: Electronic Codebook with PBKDF2 key derivation.</li> <li>1: AES-CBC-PBKDF2: Cypher Block Chaining with PBKDF2 key derivation.</li> </ul> </li> <li>(4) Key derivation iterations (3 Bytes): Number of PBKDF2 key derivations times 10,000.</li> </ul> </li> <li>Cipher data (5 to 7):<ul> <li>(5) IV (16 Bytes-optional): Initial vector for AES-CBC encryption, possibility to be nonce for future     AES-CTR or other encryption methods.</li> <li>(6) Encrypted Mnemonic (16 Bytes - 12 words, 32 Bytes - 24 words): Mnemonic ciphertext.</li> <li>(7) Validation block (16 Bytes): Currently using first 16 bytes of sha256 of the mnemonic bytes as checksum, could be used in future to store AES-AEX validation tag.</li> </ul> </li> </ul>"},{"location":"getting-started/features/encrypted-mnemonics/#considerations","title":"Considerations","text":"<p>Storage of encrypted mnemonics on the device or SD cards are meant for convenience only and should not be considered a form of backup. Always make a physical backup of your keys that is independent from electronic devices and test recovering your wallet from this backup before you send funds to it.</p> <p>Remember that the stored encrypted mnemonic is protected by the key you defined to encrypt it. If the defined key is weak, your encrypted mnemonic will not be protected. If you have stored a mnemonic with funds in the device's internal flash memory using a weak key, the best way to undo this is to wipe the device.</p>"},{"location":"getting-started/features/entropy/","title":"Empirical Entropy Measurement","text":""},{"location":"getting-started/features/entropy/#why-does-krux-say-the-entropy-of-my-fifty-dice-rolls-does-not-contain-128-bits-of-entropy","title":"Why Does Krux Say the Entropy of My Fifty Dice Rolls Does Not Contain 128 Bits of Entropy?","text":"<p>This question, frequently raised in Krux chat groups, highlights the need to clarify the concepts and tools used by Krux to help users detect possible issues in the mnemonic creation procedure. Tools in Krux were designed to help users understand the concepts involved in the process, present statistics and indicators, and encourage users to experiment and evaluate results. This way, users learn about best practices in key generation. Below, we will dive deeper into entropy concepts to better support users in the fundamental requirement for sovereign self-custody, which is to build up knowledge.</p>"},{"location":"getting-started/features/entropy/#entropy-in-dice-rolls","title":"Entropy in Dice Rolls","text":"<p>Rolling dice and collecting the resulting values can be an effective method for generating cryptographic keys due to the inherent randomness and unpredictability of each roll. Each roll of a die produces a random number within a specific range, and when multiple rolls are combined, they create a sequence that is difficult to predict or reproduce. This sequence can be used to generate cryptographic keys that are robust against attacks. By ensuring that the dice rolls are conducted in a controlled and secure environment, and by using a sufficient number of rolls to achieve the desired level of randomness, one can create cryptographic keys that are highly secure and resistant to brute-force attacks or other forms of cryptanalysis.</p>"},{"location":"getting-started/features/entropy/#entropy-definitions","title":"Entropy Definitions","text":"<p>Entropy, a fundamental concept in various scientific disciplines, measures the degree of disorder or uncertainty within a system. This notion is interpreted differently across fields, leading to distinct types of entropy: mechanical entropy, Shannon's entropy, and cryptographic entropy.</p> <p>Mechanical entropy, rooted in thermodynamics and statistical mechanics, quantifies the disorder in a physical system. It describes how energy is distributed among the particles in a system, reflecting the system's tendency towards equilibrium and maximum disorder.</p> <p>Shannon's entropy, from information theory, measures the uncertainty or information content in a message or data source. Introduced by Claude Shannon, it quantifies the average amount of information produced by a stochastic source of data, indicating how unpredictable the data is.</p> <p>Cryptographic entropy, crucial in security, refers to the unpredictability and randomness required for secure cryptographic keys and processes. High cryptographic entropy ensures that keys are difficult to predict or reproduce, providing robustness against attacks.</p> <p>While mechanical entropy deals with physical systems, Shannon's entropy focuses on information content, and cryptographic entropy emphasizes security through randomness.</p>"},{"location":"getting-started/features/entropy/#measuring-dice-rolls-entropy","title":"Measuring Dice Rolls Entropy","text":"<p>Entropy is a theoretical measure and is not directly measurable from a single roll but rather from the probability distribution of outcomes over many rolls. We can use Shannon's formula for theoretical and empirical calculations. Entropy S can be quantified with:</p>  S = -\\sum_{i=1}^{n} p_i \\log(p_i)  <ol> <li>Empirical Measurement:</li> <li>Roll the dice a large number of times to observe the frequency of each outcome.</li> <li> <p>Estimate the probabilities p_i based on observed frequencies.</p> </li> <li> <p>Theoretical Calculation:</p> </li> <li>Use the uniform distribution assumption (equal probability for all outcomes).</li> </ol> <p>where: - p_i is the probability of each possible outcome (or state) of the system. - n is the number of possible outcomes.</p>"},{"location":"getting-started/features/entropy/#empirical-real-vs-theoretical-entropy-in-dice-rolls","title":"Empirical (Real) vs. Theoretical Entropy in Dice Rolls","text":"<p>When calculating the entropy of dice rolls, the difference between real and theoretical results arises from the assumption of perfect fairness and uniformity versus the inherent imperfections in real-world experiments.</p>"},{"location":"getting-started/features/entropy/#theoretical-entropy","title":"Theoretical Entropy","text":"<p>The theoretical entropy calculation assumes that the dice are perfectly fair, meaning each face has an equal probability of landing face up.</p> <p>Consider a fair six-sided die. The possible outcomes when rolling one die are {1, 2, 3, 4, 5, 6}, each with an equal probability of \\frac{1}{6}.</p> <ol> <li>Single Die Roll:</li> <li>Each outcome has a probability p_i = \\frac{1}{6}.</li> <li>The entropy S for one die roll is calculated as:</li> </ol>  S = - \\sum_{i=1}^{6} \\left( \\frac{1}{6} \\log_2 \\left( \\frac{1}{6} \\right) \\right)  <p>Since <code>\\log_2(1/6) = -\\log_2(6)</code> :</p>  S = -6 \\left( \\frac{1}{6} \\times -\\log_2(6) \\right) = \\log_2(6) \\approx 2.585 \\text{ bits}  <ol> <li>Multiple Dice Rolls:</li> <li>For multiple dice, the entropy increases as the number of possible outcomes increases. For k fair dice, the number of possible outcomes is 6^k.</li> <li> <p>The entropy S for k dice is:</p> <p>S = \\log_2(6^k) = k \\log_2(6) \\approx 2.585k \\text{ bits}</p> </li> <li> <p>For example, entropy for the roll of 50 fair dice is calculated as:</p> <p>S = \\log_2(6^{50}) = 50 \\log_2(6) \\approx 2.585 \\times 50 \\approx 129.25 \\text{ bits}</p> </li> </ol> <p>This calculation assumes that every outcome (each face of the die) has an equal likelihood, leading to a uniform distribution.</p>"},{"location":"getting-started/features/entropy/#empirical-entropy","title":"Empirical Entropy","text":"<p>In a real sample of dice rolls, several factors can cause deviations from the perfect uniform distribution:</p> <ol> <li>Imperfect Dice: Real dice may not be perfectly balanced. Small manufacturing defects can make certain faces slightly heavier or lighter, causing biases.</li> <li>Rolling Conditions: The way the dice are rolled, the surface they land on, and even air currents can introduce slight biases.</li> <li>Finite Sample Size: When rolling dice a finite number of times, the observed frequencies of each face will naturally deviate from the expected uniform distribution due to random variations. This phenomenon is more pronounced with smaller sample sizes.</li> </ol> <p>When you roll a die multiple times and observe the outcomes, you can calculate the empirical probabilities p_i of each face. Using these probabilities, the entropy is calculated as:</p>  S = - \\sum_{i=1}^{6} p_i \\log_2(p_i)"},{"location":"getting-started/features/entropy/#example","title":"Example","text":"<p>Suppose you roll a six-sided die 50 times and get the following results:</p> <ul> <li>1: 4 times</li> <li>2: 9 times</li> <li>3: 7 times</li> <li>4: 10 times</li> <li>5: 12 times</li> <li>6: 8 times</li> </ul> <p>We can calculate Shannon's entropy as follows:</p>"},{"location":"getting-started/features/entropy/#step-1-calculate-probabilities","title":"Step 1: Calculate Probabilities","text":"<p>Total number of rolls:</p>  N = 4 + 9 + 7 + 10 + 12 + 8 = 50  <p>Probabilities for each outcome:</p>  p_1 = \\frac{4}{50} = 0.08    p_2 = \\frac{9}{50} = 0.18    p_3 = \\frac{7}{50} = 0.14    p_4 = \\frac{10}{50} = 0.2    p_5 = \\frac{12}{50} = 0.24    p_6 = \\frac{8}{50} = 0.16"},{"location":"getting-started/features/entropy/#step-2-compute-entropy","title":"Step 2: Compute Entropy","text":"<p>Using Shannon's entropy formula:</p>  S = -\\sum_{i=1}^{n} p_i \\log_2(p_i)  <p>Calculate each term:</p>  S_1 = -p_1 \\log_2(p_1) = -0.08 \\log_2(0.08) = -0.08 \\times (-3.64386) = 0.291509   S_2 = -p_2 \\log_2(p_2) = -0.18 \\log_2(0.18) = -0.18 \\times (-2.47393) = 0.445307   S_3 = -p_3 \\log_2(p_3) = -0.14 \\log_2(0.14) = -0.14 \\times (-2.8365) = 0.39711   S_4 = -p_4 \\log_2(p_4) = -0.2 \\log_2(0.2) = -0.2 \\times (-2.32193) = 0.464386   S_5 = -p_5 \\log_2(p_5) = -0.24 \\log_2(0.24) = -0.24 \\times (-2.05889) = 0.494132   S_6 = -p_6 \\log_2(p_6) = -0.16 \\log_2(0.16) = -0.16 \\times (-2.64386) = 0.423018  <p>Sum the contributions:</p>  S = S_1 + S_2 + S_3 + S_4 + S_5 + S_6    S = 0.291509 + 0.445307 + 0.39711 + 0.464386 + 0.494132 + 0.423018 = 2.515462  <p>Thus, the Shannon's entropy for the given distribution of dice rolls is approximately 2.52 bits per roll.</p> <p>This will give you a different value than \\log_2(6) due to the deviations in the empirical probabilities.</p> <p>The total entropy for the N = 50 rolls is:</p>  S_{total} = S \\times N = 2.515 + 50 \\approx 125.8 \\text{ bits}"},{"location":"getting-started/features/entropy/#shannons-entropy-in-practice","title":"Shannon's Entropy in Practice","text":"<p>Calculating Shannon's entropy on a real sample of dice rolls provides insights into the actual randomness and fairness of the dice and rolling conditions. Deviations from the theoretical entropy reflect the natural imperfections and variances inherent in real-world scenarios. This understanding helps in evaluating and improving the fairness and randomness of dice or similar systems.</p> <p>Shannon's entropy evaluates the statistical probability distribution of samples of a dice roll. An even distribution results in higher entropy, closer to the theoretical maximum entropy, which assumes perfectly distributed rolls. An uneven distribution, created, for example, by a biased die, will result in lower Shannon's entropy. In an extreme case, with a terribly biased die that always lands on the same side, Shannon's entropy will be zero.</p>"},{"location":"getting-started/features/entropy/#cryptographic-entropy","title":"Cryptographic Entropy","text":"<p>Shannon's entropy, while a powerful measure of information content and uncertainty in a statistical distribution for natural samples, is not considered cryptographic entropy due to its inability to detect patterns or other sources of predictability within data. Shannon's formula quantifies the average information produced by a stochastic process, essentially measuring the expected surprise in a sequence of symbols based on their probabilities. However, it does not account for potential structure, correlations, or regularities within the data that could be inserted by a user and exploited by an attacker.</p> <p>Cryptographic entropy, on the other hand, requires a higher standard of unpredictability. It must ensure that every bit of the cryptographic key is as random and independent as possible, making it resilient against any form of analysis that could reveal patterns or reduce the effective randomness. While Shannon's entropy can evaluate the statistical distribution of symbols, it falls short in guaranteeing the absence of patterns or dependencies, which are crucial for maintaining the security of cryptographic systems. Thus, cryptographic entropy encompasses a broader concept of randomness, ensuring that the generated keys are not only statistically random but also free from any detectable structure or predictability.</p>"},{"location":"getting-started/features/entropy/#pattern-detection","title":"Pattern Detection","text":"<p>It is possible to have dice rolls with an even distribution but poor cryptographic entropy. This issue arises when patterns are present in the sequences. Examples include sequences like 123456123456123..., 111122223333..., and 654321654321..., which exhibit poor cryptographic entropy despite having even distribution and high Shannon's entropy.</p> <p>To mitigate this issue, Krux has implemented a pattern detection algorithm that evaluates the Shannon's entropy of the rolls' derivatives. In practice, this algorithm detects arithmetic progression components in the dice rolls and raises a warning if a certain threshold is crossed.</p>"},{"location":"getting-started/features/entropy/#what-krux-does","title":"What Krux Does?","text":"<ul> <li>Krux requires a minimum number of rolls based on theoretical entropy.</li> <li>Krux warns the user if low Shannon's entropy, calculated with the actual rolls, is detected.</li> <li>Krux warns the user if it suspects there are patterns within the actual rolls.</li> </ul>"},{"location":"getting-started/features/entropy/#conclusion","title":"Conclusion","text":"<p>While Krux cannot ensure rolls have good or bad cryptographic entropy, it does provide indicators to help users detect issues and learn about the concepts involved in mnemonic generation.</p>"},{"location":"getting-started/features/printing/","title":"Printing","text":"<p>Warning/Disclaimer: This feature is intended for individuals with experience in electronics tinkering and soldering.</p> <p>Krux has the ability to print mnemonic backup (Words, Numbers, Tiny Seed template; but not Stackbit 1248) and any QR code (SeedQR, signed PSBT, Address, XPUB, Wallet output descriptor, ...) via a locally-connected TTL serial thermal printer. Consult the parts list page for supported printers.</p> <p> </p> <p> </p> <p>Once a thermal printer and driver have been enabled in Krux settings, all screens that display a QR code will offer the option to <code>Print to QR</code>. Other formats of mnemonic backup will also ask if you want to <code>Print to QR?</code>. </p> <p>There are many ways you can use this functionality, including:</p> <ul> <li>Printing backups of your mnemonics and multisig wallet output descriptor</li> <li>Printing your xpubs and receive addresses to share</li> <li>Printing signed messages and PSBTs</li> </ul> <p>Since printed thermal paper fades quickly, you can also print your backups on sticker thermal paper to use as templates for punching into more resilient materials like steel.</p> <p>We also have plans to add support for other kinds of QR \"printers\" in the future, including CNC machines. In this case, gcode will be generated that can be sent directly to a GRBL controller to cut your QRs out of wood or metal!</p> <p>Just be careful what you do with the printed codes, since most smartphones can now quickly and easily read QR codes. Treat your QR mnemonic the same way you would treat a plaintext copy of it.</p>"},{"location":"getting-started/features/sd-card-update/","title":"SD Card Updates","text":""},{"location":"getting-started/features/sd-card-update/#upgrade-via-microsd-card","title":"Upgrade via microSD card","text":"<p>Once you've installed the initial firmware on your device via USB, you can either continue updating the device by flashing via USB or you can perform upgrades via microSD card to keep the device airgapped.</p> <p>To perform an upgrade, simply copy the official release <code>firmware.bin</code> and <code>firmware.bin.sig</code> files to the root of a FAT-32 / MBR formatted microSD card, insert the card into your device, and reboot the device. If it detects the new firmware file and is able to verify the signature, you will be prompted to install it.</p> <p>Once installation is complete, eject the microSD card and delete the firmware files before reinserting and rebooting. Otherwise you will be prompted to install it again.</p> <p>We cannot guarantee that a microSD card is compatible and will work in your device; you'll need to test it on the device to be sure, read the FAQ for more info. Only official releases are signed and can be installed via microSD card.</p>"},{"location":"getting-started/features/tools/","title":"Tools","text":"<p>Here are some useful tools that are available as soon as Krux starts! These are offered as a complement to managing your device and wallets.</p> <p> </p>"},{"location":"getting-started/features/tools/#check-sd-card","title":"Check SD Card","text":"<p>You can check if a SD card can be detected and read by your device and explore its content. If there are too many files to fit on one screen, swipe up  or down  to navigate between the screens if your device has a touchscreen.</p>"},{"location":"getting-started/features/tools/#print-test-qr","title":"Print Test QR","text":"<p>Quickly print a test QR code to check and optimize your printer setup.</p>"},{"location":"getting-started/features/tools/#create-qr-code","title":"Create QR Code","text":"<p>Enter text to create, print or transcribe a QR code that can later be used as an encryption key or passphrase. Swipe left  or right  to change modes if your device has a touchscreen.</p>"},{"location":"getting-started/features/tools/#descriptor-addresses","title":"Descriptor Addresses","text":"<p>Verify if an address or list of addresses belong to a wallet without needing to load private keys. Simply load a trusted wallet descriptor from a QR code or SD card.</p>"},{"location":"getting-started/features/tools/#remove-mnemonic","title":"Remove Mnemonic","text":"<p>This option allows you to remove any stored encrypted mnemonic from the device's internal memory or an SD card. For more information, see Krux Encrypted Mnemonics.</p> <p>When mnemonics are removed from the device's flash memory, Krux will no longer be able to access them. However, as with most operating systems, the data may still be recoverable using specialized tools. If you stored any important keys with a weak encryption key, it is recommended to use the \"Wipe Device\" feature below to ensure that the data is irrecoverable.</p> <p>When mnemonics are removed from an SD card, Krux will overwrite the region where the encrypted mnemonic was stored with empty data. This makes it more secure to delete mnemonics from SD cards using Krux rather than a PC or another device. However, Krux does not have a \"Wipe\" feature for SD cards; you can find this feature in third-party applications.</p>"},{"location":"getting-started/features/tools/#wipe-device","title":"Wipe Device","text":"<p>This option permanently removes all stored encrypted mnemonics and settings from the device's internal flash memory. It ensures that the data is irrecoverable, making it an adequate measure to take if any important mnemonics were stored with a weak encryption key.</p>"},{"location":"getting-started/installing/from-gui/","title":"From GUI application","text":"<p>You can install Krux (both official or beta releases) onto your K210-based device using our official desktop application, KruxInstaller, available for Linux and Windows.</p>"},{"location":"getting-started/installing/from-gui/#download","title":"Download","text":"<p>Download the installer by choosing the right asset for your operating system from our  Github releases page:</p> Operational System File Windows <code>krux-installer_0.0.13.exe*</code> Debian-based: Ubuntu, PopOS, etc... <code>krux-installer_0.0.13_amd64.deb*</code> RedHat-based: Fedora, etc... <code>krux-installer-0.0.13.x86_64.rpm*</code> Any linux distribution <code>krux-installer-0.0.13.AppImage*</code> Package for Archlinux on AUR. <code>krux-installer-bin</code>"},{"location":"getting-started/installing/from-gui/#verify-files","title":"Verify files","text":"<p>If you trust the project developers, you can skip to install:</p> <p>\u26a0\ufe0f  TIP: This step helps detect if any unauthorized modifications were made between github and your local computer.</p>"},{"location":"getting-started/installing/from-gui/#integrity","title":"Integrity","text":"System Commands Windows (powershell) <pre><code># Compare this output:\n(Get-FileHash 'krux-installer_0.0.13.exe').Hash\n\n# With this:\nGet-Content 'krux-installer_0.0.13.exe.sha256.txt'\n</code></pre> Debian-based <pre><code>sha256sum --check ./krux-installer_0.0.13_amd64.deb.sha256.txt\n</code></pre> RedHat-based <pre><code>sha256txt --check ./krux-installer-0.0.13.x86_64.rpm.sha256.txt\n</code></pre> Any Linux distribution <pre><code>sha256sum --check ./krux-installer-0.0.13.AppImage.sha256.txt\n</code></pre>"},{"location":"getting-started/installing/from-gui/#authenticity","title":"Authenticity","text":"<p>You will need have GPG installed. Most Linux already have this, but on Windows we recommend installing GPG4Win.</p> <p>Once installed, run this command to retrieve the developer's key:</p> <pre><code>gpg --keyserver hkps://keys.openpgp.org --recv-keys B4281DDDFBBD207BFA4113138974C90299326322\n</code></pre> <p>Then you can verify:</p> System Command Windows (powershell) <code>gpg --verify krux-installer_0.0.13.exe.sig</code> Debian-based <code>gpg --verify ./krux-installer_0.0.13_amd64.deb.sig</code> RedHat-based <code>gpg --verify ./krux-installer-0.0.13.x86_64.rpm.sig</code> Any Linux distribution <code>gpg --verify ./krux-installer-0.0.13.AppImage.sig</code> <p>\u26a0\ufe0f  TIP: If the verification was successful, you may get a message similar to: <code>Good signature from \"qlrddev &lt;qlrddev@gmail.com&gt;\"</code></p>"},{"location":"getting-started/installing/from-gui/#install","title":"Install","text":"<p>Each system require different steps to install:</p> System Steps Windows <ul> <li>The <code>krux-installer_0.0.13.exe</code> is a NSIS installer;</li> <li>The first time you run the <code>.exe</code> file the system will ask you to trust the application;</li> <li>See windows section below for more information</li> Debian-based <ul> <li>Install with dpkg: <code>sudo dpkg -i krux-installer_0.0.13_amd64.deb</code>;</li> <li>Update it with apt-get: <code>sudo apt-get install -f krux-installer_0.0.13_amd64.deb</code>.</li> </ul> RedHat-based <ul> <li>Fedora: <code>sudo  dnf install krux-installer-0.0.13.x86_64.rpm</code>;</li> <li>Other RedHat based distros: <code>sudo yum localinstall krux-installer-0.0.13.x86_64.rpm</code>.</li> </ul> Any Linux distribution <ul> <li>Place the <code>krux-installer-0.0.13.AppImage</code> where you want;</li> <li>Modify permision to execute: <code>chmod +x krux-installer-0.0.13.AppImage</code>;</li> <li>Run it: <code>./krux-installer-0.0.13.AppImage</code>.</li> </ul>"},{"location":"getting-started/installing/from-gui/#windows","title":"Windows","text":"<p>On Windows, you'll be faced with a blue window saying \"Windows protected your PC\". This occurs because we don't have a code signing certificate, Click on \"More info\" and allow the execution. Follow the installer's instructions to complete the installation.</p> <p>\ud83d\udee1\ufe0f  TIP: If you followed the steps presented in authenticity, you already  have the assurance that the software is from a verified and genuine software publisher</p> <p></p>"},{"location":"getting-started/installing/from-gui/#usage","title":"Usage","text":""},{"location":"getting-started/installing/from-gui/#main-menu","title":"Main Menu","text":"<p>When executing the Krux Installer, you will be presented with a menu of two items:</p> <p></p>"},{"location":"getting-started/installing/from-gui/#select-device","title":"Select Device","text":"<p>First, select the device we want to flash. After that the menu will shown three items:</p> <p></p> <p></p>"},{"location":"getting-started/installing/from-gui/#select-version","title":"Select Version","text":"<p>This option allows you to select the latest official version or the latest beta version on our github. If the connection works, you will see the following screen:</p> <p></p> Version Name Advantages Disadvantages Official <code>selfcustody/krux/releases/tag/*</code> <ul><li>Stable version;</li><li>All features were reviewd and tested;</li><li>It's integrity and authenticity can be verified.</li> <ul><li>Updates may take some time to be released.</li></ul> Beta <code>odudex/krux_binaries</code> <ul><li>Latest features available;</li><li>Constant UX reviews by our community.</li></ul> <ul><li>Its integrity or authenticity cannot be verified.</li></ul>"},{"location":"getting-started/installing/from-gui/#flash","title":"Flash","text":"<p>Once you choose the device and version, it enables the \"flash with ktool\" button.</p> <p>\u26a0\ufe0f  TIP: You must connect and turn on your device before flashing. In Linux, you'll be prompted to type your password (sudo or admin). Do not disconnect the device until the process is complete!</p> <p></p> <p>When the flashing process completes, you should see the Krux logo:</p> <p> </p> <p>If it doesn't, try turning your device off and on by holding down the power button for six seconds.</p> <p>Congrats, you're now running Krux!</p>"},{"location":"getting-started/installing/from-gui/#wipe-device","title":"Wipe device","text":"<p>This option erases ALL data from the device's flash memory. On Linux, it will prompt for your password before. Once the process starts, the screen will appear frozen. When it's done, you can scroll down and see all the events that occurred.</p> <p>\u26a0\ufe0f  TIP: It's useful when your device is not working or for security reasons. To use Krux again, you'll need to re-flash the firmware.</p> <p></p> <p>\u26a0\ufe0f  TIP: Do not unplug or poweroff your device or computer. Wait until the process finishes.</p>"},{"location":"getting-started/installing/from-gui/#multilingual-support","title":"Multilingual support","text":"<p>Prefer a different language? Krux has support for multiple languages. Once at the start screen, go to <code>Settings</code>, followed by <code>Locale</code>, and select the locale you wish to use.</p>"},{"location":"getting-started/installing/from-gui/#upgrade-via-microsd-card","title":"Upgrade via microSD card","text":"<p>Once you've installed the initial firmware on your device via USB, you can either continue updating the device by flashing or you can perform upgrades via microSD card to keep the device airgapped.</p>"},{"location":"getting-started/installing/from-pre-built-release/","title":"From pre-built official release","text":"<p>This page explains how to install Krux from an official, pre-built release.</p>"},{"location":"getting-started/installing/from-pre-built-release/#download-the-latest-release","title":"Download the latest release","text":"<p>Head over to the releases page and download the latest signed release.</p>"},{"location":"getting-started/installing/from-pre-built-release/#verify-the-files","title":"Verify the files","text":"<p>Before installing the release, it's a good idea to check that:</p> <ol> <li>The SHA256 hash of <code>krux-vX.Y.Z.zip</code> matches the hash in <code>krux-vX.Y.Z.zip.sha256.txt</code></li> <li>The signature file <code>krux-vX.Y.Z.zip.sig</code> can be verified with the <code>selfcustody.pem</code> public key found in the root of the krux repository.</li> </ol> <p>You can either do this manually or with the <code>krux</code> shell script, which contains helper commands for this: <pre><code>./krux sha256 krux-vX.Y.Z.zip\n./krux verify krux-vX.Y.Z.zip selfcustody.pem\n</code></pre></p> <p>On Mac you may need to install <code>coreutils</code> to be able to use <code>sha256sum</code> <pre><code>brew install coreutils\n</code></pre></p> <p>Fun fact: Each Krux release is signed with Krux!</p>"},{"location":"getting-started/installing/from-pre-built-release/#flash-the-firmware-onto-the-device","title":"Flash the firmware onto the device","text":"<p>Extract the latest version of Krux you downloaded and enter the folder: <pre><code>unzip krux-vX.Y.Z.zip &amp;&amp; cd krux-vX.Y.Z\n</code></pre></p> <p>Connect the device to your computer via USB (for Maix Amigo, make sure you\u2019re using bottom port), power it on, and run the following, replacing <code>DEVICE</code> with either <code>m5stickv</code>, <code>amigo</code>, <code>bit</code>, <code>cube</code>, <code>dock</code> or <code>yahboom</code> (to yahboom you may need to manually specify the port, for example <code>/dev/ttyUSB0</code> on Linux or <code>COM6</code> on Windows): <pre><code>./ktool -B goE -b 1500000 maixpy_DEVICE/kboot.kfpkg\n</code></pre></p> <p>For <code>dock</code> use the <code>-B dan</code> parameter: <pre><code>./ktool -B dan -b 1500000 maixpy_dock/kboot.kfpkg\n</code></pre></p> <p>When the flashing process completes, you should see the Krux logo:</p> <p> </p> <p>If it doesn't, try turning your device off and on by holding down the power button for six seconds.</p> <p>Congrats, you're now running Krux!</p>"},{"location":"getting-started/installing/from-pre-built-release/#a-note-about-the-maix-amigo","title":"A note about the Maix Amigo","text":"<p>Some Amigo screens have inverted X coordinates, others display colors differently. For more info see Troubleshooting.</p>"},{"location":"getting-started/installing/from-pre-built-release/#troubleshooting","title":"Troubleshooting","text":"<p>If <code>ktool</code> fails to run, you may need to give it executable permissions with <code>chmod +x ./ktool</code>, or you might need to use \"sudo\" if your user don't have access to serial port. In Windows or Mac you may need to explicitly allow the tool to run by adding an exception for it.</p> <p>If the flashing process fails midway through, check the connection, restart the device, and try the command again.</p> <p>Two serial ports are created when <code>Amigo</code> and <code>Bit</code> are connected to a PC. Sometimes Ktool will pick the wrong port and flashing will fail. Manually specify the serial port to overcome this issue using <code>-p</code> argument:</p>"},{"location":"getting-started/installing/from-pre-built-release/#linux","title":"Linux","text":"<p>See the correct port using <code>ls /dev/ttyUSB*</code>, in the example below we use <code>/dev/ttyUSB0</code>: <pre><code>./ktool-linux -B goE -b 1500000 maixpy_amigo/kboot.kfpkg -p /dev/ttyUSB1\n</code></pre></p>"},{"location":"getting-started/installing/from-pre-built-release/#windows","title":"Windows","text":"<p>See the correct port at Device Manager &gt; Ports (COM &amp; LPT), in the example below we use <code>COM6</code>: <pre><code>.\\ktool-win.exe -B goE -b 1500000 maixpy_amigo\\kboot.kfpkg -p COM6\n</code></pre></p>"},{"location":"getting-started/installing/from-pre-built-release/#mac","title":"Mac","text":"<p>Remove the Gatekeeper quarantine extended attribute from ktool-mac: <pre><code>xattr -d com.apple.quarantine ktool-mac\n</code></pre></p> <p>See the correct port using the command line: <code>ls /dev/cu.usbserial*</code>, in the example below we use <code>/dev/cu.usbserial-10</code> (If the output isn't what you expect try a different cable, preferably a smartphone usb-c charger cable): <pre><code>./ktool-mac -B goE -b 1500000 maixpy_amigo/kboot.kfpkg -p /dev/cu.usbserial-10\n</code></pre></p> <p>Different OS versions may have different port names, and the absence of ports may indicate a connection, driver or hardware related issue. See Troubleshooting for more info.</p>"},{"location":"getting-started/installing/from-pre-built-release/#multilingual-support","title":"Multilingual support","text":"<p>Prefer a different language? Krux has support for multiple languages. Once at the start screen, go to <code>Settings</code>, followed by <code>Locale</code>, and select the locale you wish to use.</p>"},{"location":"getting-started/installing/from-pre-built-release/#upgrade-via-microsd-card","title":"Upgrade via microSD card","text":"<p>Once you've installed the initial firmware on your device via USB, you can either continue updating the device by flashing or you can perform upgrades via microSD card to keep the device airgapped.</p>"},{"location":"getting-started/installing/from-source/","title":"From source","text":"<p>This page explains how to install Krux from source. You can check a simplified version of these instructions in our README too.</p>"},{"location":"getting-started/installing/from-source/#fetch-the-code","title":"Fetch the code","text":"<p>This will download the source code of Krux as well as the code of all its dependencies inside a new folder called <code>krux</code> (needs <code>git</code>): <pre><code>git clone --recurse-submodules https://github.com/selfcustody/krux\n</code></pre></p> <p>Note: When you wish to pull updates (to all submodules, their submodules, ...) to this repo, use: <pre><code>git pull origin main &amp;&amp; git submodule update --init --recursive\n</code></pre></p>"},{"location":"getting-started/installing/from-source/#prerequisite-for-upgrading-via-microsd","title":"Prerequisite for upgrading via microSD","text":"<p>If you wish to perform airgapped upgrades via microSD card later, you will need to have a private and public key pair to sign your builds and verify the signatures. If you do not want to perform further airgapped upgrades, jump to build section.</p> <p>You can use an existing Krux installation and mnemonic to sign your builds with, or you can generate a keypair and sign from the <code>openssl</code> CLI. Commands have been added to the <code>krux</code> shell script to make this easier.</p> <p>In either case, you will need to update the <code>SIGNER_PUBKEY</code> field in <code>src/krux/metadata.py</code> to store your public key so that Krux can verify future builds before installing.</p> <p>To generate a keypair: <pre><code>./krux generate-keypair\n./krux pem-to-pubkey pubkey.pem\n</code></pre></p> <p>The first command will create <code>privkey.pem</code> and <code>pubkey.pem</code> files you can use with openssl, and the second command will output your public key in the form expected by Krux.</p> <p>Once you've updated the <code>SIGNER_PUBKEY</code> with this value, you can proceed with the regular build process.</p>"},{"location":"getting-started/installing/from-source/#build-the-firmware-linux-or-wsl","title":"Build the firmware (Linux or WSL)","text":"<p>The krux bash script contains commands for common development tasks. It assumes a Linux host, you will need to have Docker Desktop or Docker Engine, <code>openssl</code>, and <code>wget</code> installed at a minimum for the commands to work as expected. It works on Windows using WSL. The channel Crypto Guide from Youtube made a step-by-step video - Krux DIY Bitcoin Signer: Build From Source &amp; Verify (With Windows + WSL2 + Docker)</p> <p>To build and flash the firmware: <pre><code># build firmware for Maix Amigo\n./krux build maixpy_amigo\n</code></pre></p> <p>The first time, the build can take around an hour or so to complete. Subsequent builds should take only a few minutes. If all goes well, you should see a new <code>build</code> folder containing <code>firmware.bin</code> and <code>kboot.kfpkg</code> files when the build completes.</p> <p>Note: if you encounter any of these errors while building, it is a problem connecting to github, try again (if the error persists, try changing the DNS/VPN or correcting the hostname resolution of github.com to an IP that is working for you): <pre><code>error: RPC failed; curl 92 HTTP/2 stream 0 was not closed cleanly: CANCEL (err8)\nfatal: the remote end hung up unexpectedly\nfatal: early EOF\nfatal: index-pack failed\nfatal: clone of ... failed\nFailed to clone ...\n</code></pre></p>"},{"location":"getting-started/installing/from-source/#reproducibility","title":"Reproducibility","text":"<p>If you build from the <code>main</code> branch of the source code, you should be able to reproduce the build process used to generate the last release binaries and obtain exact copies of the <code>firmware.bin</code> and <code>kboot.kfpkg</code> files, with matching hash checksums.</p> <p>To extract and verify the firmware.bin contained in kboot.kfpkg, you can use the following command:</p> <pre><code>unzip kboot.kfpkg -d ./kboot/\n</code></pre>"},{"location":"getting-started/installing/from-source/#flash-the-firmware-onto-the-device","title":"Flash the firmware onto the device","text":"<p>Connect the device to your computer via USB (for Maix Amigo, make sure you\u2019re using bottom port), power it on, and run the following, replacing <code>DEVICE</code> with either <code>m5stickv</code>, <code>amigo</code>, <code>bit</code>, <code>cube</code>, <code>dock</code> or <code>yahboom</code>: <pre><code># build firmware for DEVICE\n./krux flash maixpy_DEVICE\n</code></pre> If the flashing fails try one of the following common solutions listed on FAQ</p> <p>When the flashing process completes, you should see the Krux logo:</p> <p> </p> <p>If it doesn't, try turning your device off and on by holding down the power button for six seconds.</p> <p>Congrats, you're now running Krux!</p>"},{"location":"getting-started/installing/from-source/#a-note-about-the-maix-amigo","title":"A note about the Maix Amigo","text":"<p>Some Amigo screens have inverted X coordinates, others display colors differently. For more info see Troubleshooting.</p>"},{"location":"getting-started/installing/from-source/#signing-the-firmware","title":"Signing the firmware","text":"<p>You can sign the firmware to perform airgapped upgrades using one of the two methods listed below:</p>"},{"location":"getting-started/installing/from-source/#method-1-signing-from-krux","title":"Method 1: Signing from Krux","text":"<p>First, calculate the SHA256 hash of the new firmware by running: <pre><code>./krux sha256 build/firmware.bin\n</code></pre></p> <p>Copy this hex string and turn it into a QR code using whichever QR code generator you'd like.</p> <p>In Krux, enter the mnemonic of your private key that will be used for signing, and go to Sign &gt; Message. Scan the QR code you generated, and you will be asked if you wish to sign the hash. Proceed, and you will be presented with a base64-encoded string containing the signature, as text and as a QR code.</p> <p>Take this string and create a signature file by running: <pre><code>./krux b64decode \"signature-in-base64\" &gt; build/firmware.bin.sig\n</code></pre></p> <p>This will generate a <code>firmware.bin.sig</code> file containing a signature of the firmware's SHA256 hash.</p>"},{"location":"getting-started/installing/from-source/#method-2-signing-from-your-computer-with-openssl","title":"Method 2: Signing from your computer with OpenSSL","text":"<p>With the keypair you generated before, you can now run: <pre><code>./krux sign build/firmware.bin privkey.pem\n</code></pre></p> <p>This will generate a <code>firmware.bin.sig</code> file containing a signature of the firmware's SHA256 hash.</p>"},{"location":"getting-started/installing/from-test-release/","title":"From pre-built test release","text":"<p>This page explains how to install Krux from a test (beta), pre-built release.</p>"},{"location":"getting-started/installing/from-test-release/#warning","title":"Warning","text":"<p>Keep in mind that these are unsigned binaries.</p>"},{"location":"getting-started/installing/from-test-release/#download","title":"Download","text":"<p>Download experimental compiled firmware or the Android app <code>apk</code> from our test (beta) repository.</p>"},{"location":"getting-started/installing/from-test-release/#android","title":"Android","text":"<p>The Krux Android app is designed for learning about Krux and Bitcoin air-gapped transactions. Due to the numerous potential vulnerabilities inherent in smartphones, such as the lack of control over the operating system, libraries, and hardware peripherals, the Krux app should NOT be used to manage wallets containing savings or important keys and mnemonics. For secure management of your keys, a dedicated device is recommended. More</p>"},{"location":"getting-started/installing/from-test-release/#compiled-firmware-for-kendryte-k210-devices","title":"Compiled firmware for Kendryte K210 devices","text":""},{"location":"getting-started/installing/from-test-release/#m5stickv","title":"M5StickV","text":"<p>To Flash M5StickV run the following.</p>"},{"location":"getting-started/installing/from-test-release/#linux","title":"Linux","text":"<pre><code>./ktool-linux -B goE -b 1500000 maixpy_m5stickv/kboot.kfpkg\n</code></pre>"},{"location":"getting-started/installing/from-test-release/#mac","title":"Mac","text":"<pre><code>./ktool-mac -B goE -b 1500000 maixpy_m5stickv/kboot.kfpkg\n</code></pre>"},{"location":"getting-started/installing/from-test-release/#windows","title":"Windows","text":"<pre><code>.\\ktool-win.exe -B goE -b 1500000 maixpy_m5stickv\\kboot.kfpkg\n</code></pre>"},{"location":"getting-started/installing/from-test-release/#sipeed-maix-amigo","title":"Sipeed Maix Amigo","text":"<p>To Flash Maix Amigo run the following.</p>"},{"location":"getting-started/installing/from-test-release/#linux_1","title":"Linux","text":"<pre><code>./ktool-linux -B goE -b 1500000 maixpy_amigo/kboot.kfpkg\n</code></pre>"},{"location":"getting-started/installing/from-test-release/#mac_1","title":"Mac","text":"<pre><code>./ktool-mac -B goE -b 1500000 maixpy_amigo/kboot.kfpkg\n</code></pre>"},{"location":"getting-started/installing/from-test-release/#windows_1","title":"Windows","text":"<pre><code>.\\ktool-win.exe -B goE -b 1500000 maixpy_amigo\\kboot.kfpkg\n</code></pre>"},{"location":"getting-started/installing/from-test-release/#a-note-about-the-maix-amigo","title":"A note about the Maix Amigo","text":"<p>Some Amigo screens have inverted X coordinates, others display colors differently. For more info see Troubleshooting.</p>"},{"location":"getting-started/installing/from-test-release/#sipeed-maix-bit","title":"Sipeed Maix Bit","text":"<p>To Flash Maix Bit run the following.</p>"},{"location":"getting-started/installing/from-test-release/#linux_2","title":"Linux","text":"<pre><code>./ktool-linux -B goE -b 1500000 maixpy_bit/kboot.kfpkg\n</code></pre>"},{"location":"getting-started/installing/from-test-release/#mac_2","title":"Mac","text":"<pre><code>./ktool-mac -B goE -b 1500000 maixpy_bit/kboot.kfpkg\n</code></pre>"},{"location":"getting-started/installing/from-test-release/#windows_2","title":"Windows","text":"<pre><code>.\\ktool-win.exe -B goE -b 1500000 maixpy_bit\\kboot.kfpkg\n</code></pre>"},{"location":"getting-started/installing/from-test-release/#sipeed-maix-cube","title":"Sipeed Maix Cube","text":"<p>To Flash Maix Cube run the following.</p>"},{"location":"getting-started/installing/from-test-release/#linux_3","title":"Linux","text":"<pre><code>./ktool-linux -B goE -b 1500000 maixpy_cube/kboot.kfpkg\n</code></pre>"},{"location":"getting-started/installing/from-test-release/#mac_3","title":"Mac","text":"<pre><code>./ktool-mac -B goE -b 1500000 maixpy_cube/kboot.kfpkg\n</code></pre>"},{"location":"getting-started/installing/from-test-release/#windows_3","title":"Windows","text":"<pre><code>.\\ktool-win.exe -B goE -b 1500000 maixpy_cube\\kboot.kfpkg\n</code></pre>"},{"location":"getting-started/installing/from-test-release/#sipeed-maix-dock","title":"Sipeed Maix Dock","text":"<p>To Flash Maix Dock you need to pass the <code>-B dan</code> parameter.</p>"},{"location":"getting-started/installing/from-test-release/#linux_4","title":"Linux","text":"<pre><code>./ktool-linux -B dan -b 1500000 maixpy_dock/kboot.kfpkg\n</code></pre>"},{"location":"getting-started/installing/from-test-release/#mac_4","title":"Mac","text":"<pre><code>./ktool-mac -B dan -b 1500000 maixpy_dock/kboot.kfpkg\n</code></pre>"},{"location":"getting-started/installing/from-test-release/#windows_4","title":"Windows","text":"<pre><code>.\\ktool-win.exe -B dan -b 1500000 maixpy_dock\\kboot.kfpkg\n</code></pre>"},{"location":"getting-started/installing/from-test-release/#aimotion-yahboom-k210-module","title":"Aimotion Yahboom k210 module","text":"<p>To Flash Yahboom k210 module you'll have to manually specify the port.</p>"},{"location":"getting-started/installing/from-test-release/#linux_5","title":"Linux","text":"<p>See the correct port using <code>ls /dev/ttyUSB*</code>, in the example below we use <code>/dev/ttyUSB0</code>: <pre><code>./ktool-linux -B goE -b 1500000 -p /dev/ttyUSB0 yahboom/kboot.kfpkg\n</code></pre></p>"},{"location":"getting-started/installing/from-test-release/#mac_5","title":"Mac","text":"<p>See the correct port using the command line: <code>ls /dev/cu.usbserial*</code>, in the example below we use <code>/dev/cu.usbserial-10</code>: <pre><code>./ktool-mac -B goE -b 1500000 -p /dev/cu.usbserial-10 yahboom/kboot.kfpkg\n</code></pre></p>"},{"location":"getting-started/installing/from-test-release/#windows_5","title":"Windows","text":"<p>See the correct port at Device Manager &gt; Ports (COM &amp; LPT), in the example below we use <code>COM6</code>: <pre><code>.\\ktool-win.exe -B goE -b 1500000 -p COM6 yahboom\\kboot.kfpkg\n</code></pre></p>"},{"location":"getting-started/installing/","title":"Installing","text":"<p>You can install Krux in four different ways:</p> <ul> <li> From GUI application</li> <li> From pre-built official release</li> <li> From pre-built test (beta) release</li> <li> From source</li> </ul>"},{"location":"getting-started/installing/#requirements","title":"Requirements","text":"<p>Please, check the parts list for the compatible devices and requirements.</p> <p>After the first firmware install, you can use a microSD card if you wish to perform further airgapped updates.</p>"},{"location":"getting-started/usage/generating-a-mnemonic/","title":"Generating a Mnemonic","text":"<p>Krux supports creating 12 and 24-word BIP-39 mnemonic seed phrases. Since generating true entropy is challenging, especially with an embedded device, we recommend outsourcing entropy generation using dice rolls. However, it is also possible to randomly pick words (e.g., SeedPicker) or use the camera as a source of entropy to quickly create a mnemonic.</p> <p>At the start screen, after selecting New Mnemonic, you will be taken to a second menu where you can choose to create a mnemonic via the camera, words, rolls of a D6 (standard six-sided die), or a D20 (20-sided die).</p> <p> </p>"},{"location":"getting-started/usage/generating-a-mnemonic/#camera","title":"Camera","text":"<p>(Experimental!) Choose between 12 or 24 words, then take a random picture and Krux will generate a mnemonic from the hash of the image bytes.</p> <p> </p>"},{"location":"getting-started/usage/generating-a-mnemonic/#image-entropy-quality-estimation","title":"Image Entropy Quality Estimation","text":"<p>During image capture, entropy quality estimation is displayed to assist you in obtaining a high-quality image source for your key. After a snapshot is taken, Shannon's entropy and pixel deviation indices are presented. Minimum thresholds are established to prevent the use of poor-quality images with low entropy for key generation. It's important to note that these values serve as indicators or estimations of entropy quality, but they are not absolute entropy values in a cryptographic context.</p>"},{"location":"getting-started/usage/generating-a-mnemonic/#words","title":"Words","text":"<p>Print the BIP39 word list in 3D or on paper, then cut out the words and place them in a bucket. Manually draw 11 or 23 words from the bucket. For the final word, Krux will assist you in picking a valid 12th or 24th word by adjusting its smart keypad to only allow typing words with a valid checksum. Alternatively, you can leave it empty, and Krux will select a final, valid checksum word for you.</p>"},{"location":"getting-started/usage/generating-a-mnemonic/#dice-rolls","title":"Dice Rolls","text":""},{"location":"getting-started/usage/generating-a-mnemonic/#via-d6","title":"Via D6","text":"<p>Choose between 12 or 24 words.</p> <p>The entropy in a single roll of a D6 is 2.585 bits ( log<sub>2</sub>(6) ); therefore a minimum of a 50 rolls will be required for 128 bits of entropy, enough to generate a 12-word mnemonic. For 24 words, or an entropy of 256 bits, a minimum of 99 rolls will be required.</p> <p> </p>"},{"location":"getting-started/usage/generating-a-mnemonic/#via-d20","title":"Via D20","text":"<p>Since a D20 has more possible outcomes, the entropy is increased per roll to 4.322 bits ( log<sub>2</sub>(20) ). This means that only 30 rolls are necessary to create a 12-word mnemonic and 60 rolls for a 24-word mnemonic.</p> <p> </p>"},{"location":"getting-started/usage/generating-a-mnemonic/#dice-rolls-entropy-quality-estimation","title":"Dice Rolls Entropy Quality Estimation","text":"<p>When you input your dice rolls, you'll see two progress bars filling up. The top progress bar shows how many rolls you've entered compared to the minimum number needed. The bottom progress bar shows the real-time calculated Shannon's entropy compared to the required minimum (128 bits for 12 words and 256 bits for 24 words). When the Shannon's entropy estimation reaches the recommended level, the progress bar will be full, and its frame will change color. If you've met the minimum number of rolls but the entropy estimation is still below the recommended level, a warning will appear, suggesting you add more rolls to increase entropy. Note: Similar to image entropy quality estimation, dice rolls Shannon's entropy serves as an indicator and should not be considered an absolute measure of cryptographic entropy.</p> <p>Learn more about Krux Entropy Quality Estimation</p>"},{"location":"getting-started/usage/generating-a-mnemonic/#stats-for-nerds","title":"Stats for Nerds","text":"<p>A low Shannon's entropy value might suggest that your dice are biased or that there's a problem with how you're gathering entropy. To investigate further, examine the \"Stats for Nerds\" section to check the distribution of your rolls and look for any abnormalities.</p> <p> </p>"},{"location":"getting-started/usage/generating-a-mnemonic/#how-it-works","title":"How it works","text":"<p>For dice rolls, Krux keeps track of every roll you enter and displays the cumulative string of outcomes after each roll. </p> <p>When you have entered your final roll, Krux will hash this string using SHA256 and output the resulting hash to the screen so that you can verify it for yourself.</p> <p>In the case a camera snapshot is used as source, image bytes, which contain pixels data in RGB565 format, will be hashed just like it is done with the dice rolls string.</p> <p> </p> <p>Krux then takes this hash, runs <code>unhexlify</code> on it to encode it as bytes, and deterministically converts it into a mnemonic according to the BIP-39 Reference Implementation.</p> <p>Note: For 12-word mnemonics, only the first half of the SHA256 hash is used (128 bits), while 24-word mnemonics use the full hash (256 bits).</p>"},{"location":"getting-started/usage/generating-a-mnemonic/#how-to-verify","title":"How to verify","text":"<p>Don't trust, verify. We encourage you not to trust any claim you cannot verify yourself. Therefore, there are wallets that use compatible algorithms to calculate the entropy derived from dice rolls. You can use the SeedSigner or Coldcard hardware wallets, or even the Bitcoiner Guide website, they share the same logic that Krux uses and will give the same mnemonic for the dice roll method.</p>"},{"location":"getting-started/usage/loading-a-mnemonic/","title":"Loading a Mnemonic","text":"<p>Once you have either a 12- or 24-word BIP-39 mnemonic, choose <code>Load Mnemonic</code> on Krux's start menu, and you will be presented with several input methods:</p> <p> </p>"},{"location":"getting-started/usage/loading-a-mnemonic/#input-methods","title":"Input Methods","text":""},{"location":"getting-started/usage/loading-a-mnemonic/#via-camera","title":"Via Camera","text":"<p>You can choose to use the camera to scan a <code>QR code</code> or <code>Tiny Seed</code> metal plate backup.</p> <p>If you are in a dark environment, you can hold down the <code>ENTER</code> button of the M5StickV or Maix Amigo to turn on their LED light to potentially increase visibility. Some cameras (<code>OV7740</code> and <code>OV2640</code>) have an anti-glare mode to better capture images from high brightness screens or with incident light, they are present on M5StickV, Amigo, Cube and some Yahboom. To enable/disable the anti-glare mode on a supported device just press the <code>PAGE</code> button while scanning.</p>"},{"location":"getting-started/usage/loading-a-mnemonic/#qr-code","title":"QR Code","text":"<p>It's unpleasant having to manually enter 12 or 24 words every time you want to use Krux. To remedy this you can instead use the device's camera to read a QR code containing the words. Krux will decode QR codes of four types:</p> <ul> <li>Plain text QR: The mnemonic words encoded as text, with words separated by spaces.</li> <li>SeedQR: Basically, it is the mnemonic words of the respective BIP-39 numbers concatenated, encoded as text.</li> <li>Compact SeedQR: Basically, it is the mnemonic words bits concatenated as bytes.</li> <li>Encrypted Mnemonic: A specification created by Krux that encrypts the mnemonic words bits and adds some information about the encryption used.</li> </ul> <p>After opening your wallet via one of the manual methods you can use Krux to create QR codes of all types above, transcript them to paper or metal using the transcription helpers or attach a thermal printer to your Krux and print out the mnemonic. Check out the Printing section for more information. You can also use an offline QR code generator for this (ideally on an airgapped device).</p>"},{"location":"getting-started/usage/loading-a-mnemonic/#tiny-seed","title":"Tiny Seed","text":"<p>Tiny Seed is a compact metal plate mnemonic backup method. Krux devices have machine vision capabilities that allow users to scan these metal plates and instantly load mnemonics engraved on them. To properly scan them place the Tiny Seed over a black background and paint the punched bits black to increase contrast. You can also scan the thermally printed version, or a filled template. Find templates to scan or print here.</p>"},{"location":"getting-started/usage/loading-a-mnemonic/#via-manual-input","title":"Via Manual Input","text":"<p>Manually type <code>Words</code>, <code>Word Numbers</code>, <code>Tiny Seed</code> (toggle the bits or punches) or <code>Stackbit</code> (model 1248 metal plate backup).</p>"},{"location":"getting-started/usage/loading-a-mnemonic/#words","title":"Words","text":"<p>Enter each word of your BIP-39 mnemonic one at a time. Krux will disable impossible-to-reach letters as you type and will attempt to autocomplete your words to speed up the process.</p>"},{"location":"getting-started/usage/loading-a-mnemonic/#word-numbers","title":"Word Numbers","text":""},{"location":"getting-started/usage/loading-a-mnemonic/#decimal","title":"Decimal","text":"<p>Enter each word of your BIP-39 mnemonic as a number (1-2048) one at a time. You can use this list for reference.</p>"},{"location":"getting-started/usage/loading-a-mnemonic/#hexadecimal-and-octal","title":"Hexadecimal and Octal","text":"<p>You can also enter your BIP-39 mnemonic word's numbers (1-2048) in hexadecimal format, with values ranging from 0x1 to 0x800, or in octal format, with values ranging from 01 to 04000. This is useful with some metal plate backups that uses those formats.</p>"},{"location":"getting-started/usage/loading-a-mnemonic/#tiny-seed-bits","title":"Tiny Seed (Bits)","text":"<p>Enter the BIP-39 mnemonic word's numbers (1-2048) in binary format, toggling necessary bits to recreate each of the word's respective number. The last word will have checksum bits dynamically toggled while you fill the bits.</p>"},{"location":"getting-started/usage/loading-a-mnemonic/#stackbit-1248","title":"Stackbit 1248","text":"<p>Enter the BIP-39 mnemonic word's numbers (1-2048) using the Stackbit 1248 metal plate backup method, where each of the four digits of the word's number is a sum of the numbers marked (punched) 1, 2, 4, or 8. For example, to enter the word \"pear\", number 1297, you must punch (1)(2)(1+8=9)(1+2+4=7).</p>"},{"location":"getting-started/usage/loading-a-mnemonic/#from-storage","title":"From Storage","text":"<p>You can retrieve mnemonics previously stored on device's internal flash or external (SD card). All stored mnemonics are encrypted, to load them you'll have to enter the same key you used to encrypt them.</p>"},{"location":"getting-started/usage/loading-a-mnemonic/#wallet-loading","title":"Wallet Loading","text":""},{"location":"getting-started/usage/loading-a-mnemonic/#confirm-mnemonic-words","title":"Confirm Mnemonic Words","text":"<p>Once you have entered your mnemonic, you will be presented with the full list of words to confirm.</p>"},{"location":"getting-started/usage/loading-a-mnemonic/#confirm-wallet-attributes","title":"Confirm Wallet Attributes","text":"<p>You will be presented with a screen containing wallet attributes, if they are as expected just press <code>Load Wallet</code> and you'll be ready to use your loaded key.</p> <p> </p>"},{"location":"getting-started/usage/loading-a-mnemonic/#attributes","title":"Attributes","text":"<p>Fingerprint</p> <p> <code>73c5da0a</code> </p> <p>The BIP-32 master wallet's fingerprint, if you have it noted down, will help you make sure you entered the correct mnemonic and passphrase (optional) and will load the expected wallet.</p> <p>Network</p> <p> <code>Mainnet</code> </p> <p>Check if you are loading a <code>Testnet</code> or <code>Mainnet</code> wallet.</p> <p>Single/Multisig</p> <p> <code>Single-sig</code> </p> <p>Check if you are loading a <code>Single-sig</code> or <code>Multisig</code> wallet.</p> <p>Derivation Path</p> <p> <code>m/84'/0'/0'</code> </p> <p>The derivation path is a sequence of numbers, or \"nodes\", that define the script type, network, and account index of your wallet.</p> <ol> <li> <p>Script Type: The first number defines the script type. The default is 84', corresponding to a Native Segwit wallet. Other values include:</p> <p><code>44'</code> for Legacy</p> <p><code>49'</code> for Nested Segwit</p> <p><code>86'</code> for Taproot</p> <p><code>48'</code> for Multisig</p> </li> <li> <p>Network: The second number defines the network:</p> <p><code>0'</code> for Mainnet</p> <p><code>1'</code> for Testnet</p> </li> <li> <p>Account Index: The third number is the account index, with <code>0'</code> being the default.</p> </li> </ol> <p>For multisig wallets, a fourth node with the value <code>2'</code> is added to the derivation path.</p> <p>Passphrase</p> <p> <code>No Passphrase</code> </p> <p>Informs if the wallet has a loaded passphrase.</p>"},{"location":"getting-started/usage/loading-a-mnemonic/#changing-wallet-attributes","title":"Changing Wallet Attributes","text":"<p>You can change any of the attributes before and after loading a wallet. It is also possible to change default settings for <code>Network</code> and <code>Single/Multisig</code> on settings.</p>"},{"location":"getting-started/usage/loading-a-mnemonic/#passphrase","title":"Passphrase","text":"<p>You can type or scan a BIP-39 passphrase. When typing, swipe left  or right  to change keypads if your device has a touchscreen. For scanning, you can also create a QR code from your offline passphrase in Tools.</p>"},{"location":"getting-started/usage/loading-a-mnemonic/#customize","title":"Customize","text":"<p>Press <code>Customize</code> to open a menu where you can change the <code>Network</code>, <code>Single/Multisig</code>, <code>Script Type</code> and <code>Account</code>.</p> <p>Now, onto the main menu...</p>"},{"location":"getting-started/usage/navigating-the-main-menu/","title":"Navigating the Main Menu","text":"<p>After entering your mnemonic, and loading a wallet, you will find yourself on Krux's main menu. Below is a breakdown of the entries available:</p> <p> </p>"},{"location":"getting-started/usage/navigating-the-main-menu/#backup-mnemonic","title":"Backup Mnemonic","text":"<p>This will open a new submenu with different types of backups. <code>QR Code</code> based, <code>Encrypted</code>  and <code>Other Formats</code></p> <p>If you set a printer, it will also give the option to print them!</p>"},{"location":"getting-started/usage/navigating-the-main-menu/#qr-code","title":"QR Code","text":"<ul> <li>Plaintext QR</li> </ul> <p>Generate a QR containing the mnemonic words as regular text, where words are separated by spaces. Any QR code can be printed if a thermal printer driver is set.</p> <ul> <li>Compact SeedQR</li> </ul> <p> </p> <p>A QR code is created from a binary representation of mnemonic words. Format created by SeedSigner, more info here.</p> <ul> <li>SeedQR</li> </ul> <p> </p> <p>Words are converted to their BIP-39 numeric indexes, those numbers are then concatenated as a string and finally converted to a QR code. Format created by SeedSigner, more info here.</p> <ul> <li>Encrypted QR Code</li> </ul> <p>This option converts the encrypted mnemonic into a QR code. Enter an encryption key and, optionally, a custom ID. When you scan this QR code through \"Load Mnemonic\" -&gt; \"Via Camera\" -&gt; \"QR Code,\" you will be prompted to enter the decryption key to load the mnemonic stored in it. Like any QR code, it can be printed if a thermal printer driver is set up.</p>"},{"location":"getting-started/usage/navigating-the-main-menu/#encrypted","title":"Encrypted","text":"<p>This feature allows you to back up your mnemonic by encrypting it and storing it on the device's flash memory, an SD card, or in QR code format. You can customize the encryption method and parameters in the settings.</p> <p>For convenience, you may choose to store the encrypted mnemonic on flash memory or an SD card, but it is advisable not to rely solely on these methods for backup. Flash storage can degrade over time and may be subject to permanent damage, resulting in the loss of stored information.</p> <p>When using any of the encryption methods, you will be prompted to enter an encryption key. This key can be provided in text or QR code format. Additionally, you have the option to set a custom ID for easier management of your mnemonics. If a custom key is not specified, the device's current loaded wallet fingerprint will be used as the ID.</p> <p>See this page to find out more about: Krux Mnemonics Encryption.</p> <ul> <li>Store on Flash</li> </ul> <p>This option stores the encrypted mnemonic in the device's flash memory. You can decrypt and load it later through the \"Load Mnemonic\" -&gt; \"From Storage\" option.</p> <ul> <li>Store on SD Card</li> </ul> <p>If an SD card is available, this option stores the encrypted mnemonic on it. You can decrypt and load it later through the \"Load Mnemonic\" -&gt; \"From Storage\" option.</p> <ul> <li>Encrypted QR Code It's another path for the same functionality present on QR Code backups, described above.</li> </ul>"},{"location":"getting-started/usage/navigating-the-main-menu/#other-formats","title":"Other Formats","text":"<ul> <li>Words </li> </ul> <p>Display the BIP-39 mnemonic words as text so you can write them down.</p> <ul> <li>Numbers </li> </ul> <p>Display the BIP-39 mnemonic word numbers (1-2048) in decimal, hex, or octal format.</p> <ul> <li>Stackbit 1248 </li> </ul> <p>This metal backup format represents the BIP-39 mnemonic word's numbers (1-2048). Each of the four digits is converted to a sum of 1, 2, 4 or 8. This option does not print even if a printer driver is set.</p> <ul> <li>Tiny Seed </li> </ul> <p>This metal backup format represents the BIP-39 mnemonic word's numbers (1-2048) in binary format on a metal plate, where the 1's are marked (punched) and the 0's are left intact. You can also print your mnemonic in this format if a thermal printer driver is set.</p>"},{"location":"getting-started/usage/navigating-the-main-menu/#extended-public-key","title":"Extended Public Key","text":"<p>A menu will be presented with options to display your master extended public key (xpub) as text and as a QR code. Depending on the script type or whether a single-sig or multisig wallet was loaded, the options shown will be xpub, ypub, zpub, or Zpub. When displayed as text, the extended public key can be stored on an SD card if available. If you choose to export a QR code, you can not only scan it but also save it as an image on an SD card or print it if a thermal printer is attached.</p> <p> </p> <p>All QR codes will contain key origin information in key expressions. If your coordinator cannot parse this information, it will not be capable of importing the wallet's fingerprint. As a result, Krux will not perform important verifications when signing transactions created by it unless you manually add the fingerprint so that it can be used to create Krux-compatible PSBTs.</p> <p>Always prefer to import extended public keys directly from Krux when setting up a coordinator instead of copying it (or parts of it) from other sources.</p>"},{"location":"getting-started/usage/navigating-the-main-menu/#wallet","title":"Wallet","text":"<p>Here you can load view and save wallet descriptors, add or change passphrases, customize wallet's attributes, generate and load a BIP85 child mnemonic.</p>"},{"location":"getting-started/usage/navigating-the-main-menu/#wallet-descriptor","title":"Wallet Descriptor","text":"<p>A Bitcoin Wallet Output Script Descriptor defines a set of addresses in a wallet. It includes the following information:</p> <ul> <li> <p>Script Type: Specifies the type of script (e.g., P2PKH, P2SH, P2WPKH).</p> </li> <li> <p>Origin Info: Defines the master fingerprint and derivation path used to derive keys.</p> </li> <li> <p>Extended Public Keys: usually represented as an xpub, but could be ypub, zpub, etc.</p> </li> </ul> <p>Output descriptors standardize how wallets generate addresses, ensuring compatibility and security. They help wallets and other software understand how to derive and verify the addresses used in transactions.</p> <p>For multisig wallets, it is essential to load a descriptor to check addresses and perform full PSBT verification. For single-sig wallets, loading a descriptor is optional and serves as a redundancy check of the coordinator's wallet attributes.</p> <p>When you select the \"Wallet Descriptor\" option for the first time, you will be prompted to load a wallet descriptor via QR code or SD card. After loading, a preview of the wallet attributes will be displayed for confirmation.</p> <p> </p> <p>If you access the \"Wallet Descriptor\" option again after loading your wallet, you will see the wallet's name, fingerprints, and the abbreviated XPUBs of all cosigners, along with a QR code containing the exact data that was initially loaded. If an SD card is inserted, you can save the descriptor to it for later use without the assistance of a coordinator. Additionally, if you have a thermal printer attached, you can print this QR code.</p> <p>Krux also allows you to verify a descriptor's receive and change addresses without the need to load private keys. Simply turn on your Krux, access \"Tools\" -&gt; \"Descriptor Addresses,\" and load a trusted descriptor from a QR code or SD card.</p> <p>Please note that if you customize the wallet parameters or restart the device, the descriptor will be unloaded, and you may need to load it again to check addresses.</p>"},{"location":"getting-started/usage/navigating-the-main-menu/#passphrase","title":"Passphrase","text":"<p>If you forgot to load a passphrase while loading your wallet, or if you use multiple passphrases with the same mnemonic, you can add, replace, or remove a passphrase here. Simply choose between typing or scanning it.</p> <p>To remove a passphrase, select \"Type BIP39 Passphrase,\" leave the field blank, and press \"Go.\"</p> <p>Don't forget to verify the resulting fingerprint in the status bar to ensure you've loaded the correct key.</p>"},{"location":"getting-started/usage/navigating-the-main-menu/#customize","title":"Customize","text":"<p>Here you are presented to the exact same customization options you have while loading a key and wallet. You can change the Network, Single/Multisig, Script Type and Account. More about wallet attributes</p>"},{"location":"getting-started/usage/navigating-the-main-menu/#bip85","title":"BIP85","text":"<p>Bitcoin BIP85, also known as the Deterministic Entropy From BIP32 Keychains, allows for the generation of deterministic entropy using a BIP32 master key. This entropy can then be used to create various cryptographic keys and mnemonics (e.g., BIP39 seed phrases). BIP85 ensures that all derived keys and mnemonics are deterministic and reproducible, meaning they can be recreated from the same master key. This feature is useful for securely managing multiple child keys from a single master key without the need to store each one separately.</p> <p> </p> <p>Choose between a 12 or 24 words child then type the desired index to export a child mnemonic. After being presented to the new mnemonic, you can choose to load and use it right away.</p> <p>Please note passphrases will be removed when loading a BIP85 child.</p>"},{"location":"getting-started/usage/navigating-the-main-menu/#address","title":"Address","text":"<p>Scan, verify, export or print your wallet addresses.</p>"},{"location":"getting-started/usage/navigating-the-main-menu/#scan-address","title":"Scan Address","text":"<p>This option turns on the camera and allows you to scan in a QR code of a receive address. Upon scanning, it will render its own QR code of the address back to the display along with the (text) address below it. You could use this feature to scan the address of someone you want to send coins to and display the QR back to your wallet coordinator rather than copy-pasting an address. If you have a thermal printer attached, you can also print this QR code. </p> <p>After proceeding through this screen, you will be asked if you want to check that the address belongs to your wallet. If you confirm, it will exhaustively search through as many addresses derived from your wallet as you want in order to find a match.</p> <p>This option exists as an extra security check to verify that the address your wallet coordinator has generated is authentic and belongs to your wallet.</p>"},{"location":"getting-started/usage/navigating-the-main-menu/#receive-addresses","title":"Receive Addresses","text":"<p>List your wallet receiving addresses, you can browse to select an arbitrary address to show your QR code and print if you want.</p>"},{"location":"getting-started/usage/navigating-the-main-menu/#change-addresses","title":"Change Addresses","text":"<p>List your wallet change addresses, you can browse to select an arbitrary address to show your QR code and print if you want.</p>"},{"location":"getting-started/usage/navigating-the-main-menu/#sign","title":"Sign","text":"<p>Under Sign, you can choose to sign a PSBT or a message. You can load both PSBTs and messages scanning QR codes or loading from files on a SD card.</p>"},{"location":"getting-started/usage/navigating-the-main-menu/#psbt","title":"PSBT","text":"<p>To sign a Bitcoin PSBT, you have the following options:</p> <ul> <li>Scan an Animated QR Code: Turn on the camera and scan an animated QR code of a PSBT generated by your wallet coordinator software. If you have any issues, see Troubleshooting.</li> <li>Load from SD Card: Load an unsigned PSBT file from your SD card.</li> </ul> <p>Upon loading the PSBT, you will be presented with a preview showing the amount of BTC being sent, the recipient's address, and the transaction fee. Amounts are displayed according to your locale and the International Bureau of Weights and Measures, while still adhering to the concept of the Satcomma standard format.</p> <p>If you choose to proceed and sign the transaction, the signed PSBT can be exported in two ways:</p> <ul> <li>As an animated QR code, which can be scanned back into your coordinator wallet.</li> <li>As a signed PSBT file, which can be saved to your SD card and then loaded back into your coordinator wallet for broadcasting.</li> </ul> <p>If a thermal printer is attached to your device, you can also print the PSBT QR codes for record-keeping or further processing.</p>"},{"location":"getting-started/usage/navigating-the-main-menu/#message","title":"Message","text":"<p>Similar to PSBTs, Krux can load, sign, and export signatures for messages. This feature allows you to attest not only to the ownership of the messages themselves but also to the ownership of Bitcoin addresses and the authorship of documents and files.</p>"},{"location":"getting-started/usage/navigating-the-main-menu/#standard-messages-and-files","title":"Standard Messages and Files","text":"<p>You can scan or load a file from an SD card, the content can be plaintext or the SHA-256 hash of a message. Upon loading, you will be shown a preview of the message's SHA-256 hash for confirmation before signing.</p> <p>If you confirm, a signature will be generated, and you will see a base64-encoded version of it. You can then choose to export it as a QR code or save it to an SD card. If a thermal printer is attached, you can also print the QR code.</p> <p>Following this, you will see and be allowed to export your raw (master) public key in hexadecimal form, which can be used by others to verify your signature. If a thermal printer is attached, you can also print this QR code.</p> <p>This feature is used to sign Krux releases, airgapped, using a Krux device.</p>"},{"location":"getting-started/usage/navigating-the-main-menu/#messages-at-address","title":"Messages at Address","text":"<p>Coordinators like Sparrow and Specter offer the possibility to sign messages at a Bitcoin receive address, allowing you to attest ownership of that address. Krux will detect if the message is of this type and present a similar workflow for signing. The main difference is that the address will be displayed along with the raw message, and since the message is signed with a derived address instead of the master public key, Krux won't offer the option to export the raw public key after the signature.</p>"},{"location":"getting-started/usage/setting-a-coordinator-and-signing/","title":"Setting a Coordinator and Signing","text":"<p>After creating a mnemonic, making a safe backup, and testing to recover your mnemonic, it's time to set up a coordinator.</p> <p>Krux can work with multiple coordinator wallets. Popular options include:</p> <ul> <li> <p>Sparrow Wallet (desktop)</p> </li> <li> <p>Specter Desktop (desktop)</p> </li> <li> <p>Nunchuk (mobile)</p> </li> <li> <p>BlueWallet (mobile)</p> </li> </ul>"},{"location":"getting-started/usage/setting-a-coordinator-and-signing/#step-1-install-the-coordinator-wallet","title":"Step 1: Install the Coordinator Wallet","text":"<p>Download and install the appropriate version of your chosen coordinator wallet for your device and operating system.</p>"},{"location":"getting-started/usage/setting-a-coordinator-and-signing/#step-2-create-a-new-wallet-with-krux-as-a-signer","title":"Step 2: Create a New Wallet with Krux as a Signer","text":"<p>Depending on the coordinator, the steps to add Krux as a signer may vary slightly:</p> <p>Specter and Nunchuk Single-sig: Add Krux as signer device, then create a wallet that uses it.</p> <p>Specter and Nunchuk Multisig: Add Krux as signer device, add other devices, then create a wallet that uses them.</p> <p>Sparrow and BlueWallet: Create a wallet (or vault in Blue Wallet) first, then add signer device(s).</p> <ol> <li>Load a mnemonic and wallet in Krux.</li> </ol> <p> </p> <ol> <li> <p>On your coordinator, when presented with possible signer devices to add, choose Krux if available, otherwise choose \"other\" or even another QR code compatible signer. As Krux is compatible with many QR code formats, most of available alternatives should work.</p> </li> <li> <p>When prompted by your coordinator to import signer's public key, access the \"Extended Public Key\" on Krux.</p> </li> </ol> <p> </p> <ol> <li>Export an XPUB (or YPUB, ZPUB, etc., based on the script type) as a QR code.</li> </ol> <p> </p> <ol> <li> <p>Scan this QR code with your coordinator.</p> </li> <li> <p>Ensure the coordinator\u2019s wallet attributes (policy type, script type, fingerprint, and derivation) match those in Krux.</p> </li> </ol>"},{"location":"getting-started/usage/setting-a-coordinator-and-signing/#step-3-load-and-backup-wallet-descriptor-multisig-only","title":"Step 3: Load and Backup Wallet Descriptor (Multisig Only)","text":"<ol> <li>In your coordinator, export the wallet descriptor containing information about the wallet and all cosigners:<ul> <li>Sparrow: \"Descriptor\"</li> <li>Specter: \"Export Wallet\"</li> <li>Nunchuk: \"Export Wallet Configuration\"</li> <li>BlueWallet: \"Export Coordination Setup\"</li> </ul> </li> <li>Export the descriptor as a QR code or file.</li> <li>On Krux, go to \"Wallet\" -&gt; \"Wallet Descriptor\" to scan the descriptor QR code or load it via SD card.</li> </ol> <ol> <li> <p>If you access \"Wallet\" -&gt; \"Wallet Descriptor\" again, you will be able to:</p> <ul> <li>Check the wallet cosigners.</li> <li>Save the descriptor on an SD card (useful if you initially loaded it from QR codes).</li> </ul> <p>It is crucial to have a backup of this descriptor to recover your wallet in case one of the cosigners is lost.</p> </li> </ol>"},{"location":"getting-started/usage/setting-a-coordinator-and-signing/#step-4-verify-addresses","title":"Step 4: Verify Addresses","text":"<p>For single-sig or multisig (after loading a descriptor):</p> <ul> <li> <p>Go to \"Address\" on Krux.</p> </li> <li> <p>List \"Receive Addresses\" and \"Change Addresses\" or use \"Scan Address\" to verify if addresses from your coordinator are matched by Krux.</p> </li> </ul> <p> </p>"},{"location":"getting-started/usage/setting-a-coordinator-and-signing/#step-5-funding-your-wallet","title":"Step 5: Funding your Wallet","text":"<p>Once addresses are verified, send a small test amount to your wallet. Test signing and sending a transaction before adding more funds.</p>"},{"location":"getting-started/usage/setting-a-coordinator-and-signing/#step-6-sign-psbts-and-messages","title":"Step 6: Sign PSBTs and Messages","text":""},{"location":"getting-started/usage/setting-a-coordinator-and-signing/#psbts","title":"PSBTs","text":"<ol> <li> <p>Create a transaction in your coordinator.</p> </li> <li> <p>Export the transaction as a QR code.</p> </li> <li> <p>On Krux, go to \"Sign\" -&gt; \"PSBT\" -&gt; \"Load from camera\".</p> </li> <li> <p>Scan the animated QR code.</p> </li> <li> <p>Verify the transaction details.</p> </li> <li> <p>If correct, press \"Sign to QR code\".</p> </li> <li> <p>Scan the signed transaction QR code back into the coordinator to broadcast it.</p> </li> </ol> <p>Alternatively, you can use an SD card:</p> <p>Save the transaction as a file on an SD card. On Krux, go to \"Sign\" -&gt; \"PSBT\" -&gt; \"Load from SD card\" and \"Sign to SD card\". Load the signed transaction on the coordinator and broadcast it.</p>"},{"location":"getting-started/usage/setting-a-coordinator-and-signing/#messages","title":"Messages","text":"<p>Some coordinators, like Sparrow, allow you to sign messages linked to your wallet's addresses. Signing and verifying a message signature attests to the ownership of an address and serves as an additional test for your setup.</p> <p> </p>"},{"location":"getting-started/usage/video-tutorials/","title":"Video Tutorials","text":""},{"location":"getting-started/usage/video-tutorials/#krux-video-tutorials","title":"Krux Video Tutorials","text":"<p>Most people prefer to learn by watching videos, and we are fortunate to have excellent content creators in the Bitcoin space, here are some examples of Krux related content and tutorials.</p>"},{"location":"getting-started/usage/video-tutorials/#english","title":"English","text":""},{"location":"getting-started/usage/video-tutorials/#krux-on-m5stickv-sparrow","title":"Krux on M5StickV + Sparrow","text":"<p>Krux on M5StickV + Sparrow Wallet by Crypto Guide</p> <p></p>"},{"location":"getting-started/usage/video-tutorials/#krux-on-maix-amigo-blue","title":"Krux on Maix Amigo + Blue","text":"<p>Krux on Maix Amigo + Blue Wallet by Crypto Guide</p> <p></p>"},{"location":"getting-started/usage/video-tutorials/#diy-only-multisig","title":"DIY-Only MultiSig","text":"<p>DIY-Only Multivendor Hardware Wallet MultiSig: SeedSigner, Jade, Krux, Satochip + Sparrow &amp; Electrum by Crypto Guide</p> <p></p>"},{"location":"getting-started/usage/video-tutorials/#build-from-source-verify","title":"Build From Source &amp; Verify","text":"<p>Krux DIY Bitcoin Signer: Build From Source &amp; Verify (With Windows + WSL2 + Docker) by Crypto Guide</p> <p></p>"},{"location":"getting-started/usage/video-tutorials/#portuguese","title":"Portuguese","text":""},{"location":"getting-started/usage/video-tutorials/#krux-facil-de-instalar","title":"Krux f\u00e1cil de instalar","text":"<p>Hardwallet Krux f\u00e1cil de instalar + QRs criptografados - por Bitdov</p> <p></p>"},{"location":"getting-started/usage/video-tutorials/#multisig-com-krux","title":"Multisig com Krux","text":"<p>Multisig com Krux e Nunchuk no celular - por Bitdov</p> <p></p>"},{"location":"getting-started/usage/video-tutorials/#krux-com-impressora-termica","title":"Krux com impressora t\u00e9rmica","text":"<p>Usando a Krux com impressora t\u00e9rmica - por Bitdov</p> <p></p>"},{"location":"getting-started/usage/video-tutorials/#krux-no-celular","title":"Krux no celular","text":"<p>Carteira Bitcoin com celular OFFLINE - Krux mobile APK - por Dig</p> <p></p>"},{"location":"getting-started/usage/video-tutorials/#krux-no-celular-ii","title":"Krux no celular II","text":"<p>Como utilizar a carteira Krux no celular - por Jo\u00e3o Trein</p> <p></p>"},{"location":"getting-started/usage/video-tutorials/#faca-sua-krux","title":"Fa\u00e7a sua Krux","text":"<p>Fa\u00e7a sua hardware wallet em casa com a KRUX! - por Caiovski</p> <p></p>"}]}